# ğŸ“° ë‰´ìŠ¤ ì´ìŠˆ ì¹´ë“œ ìƒì„± ì‹œìŠ¤í…œ

RSS í”¼ë“œì—ì„œ ê²½ì œ ë‰´ìŠ¤ë¥¼ ìë™ ìˆ˜ì§‘í•˜ê³ , ìœ ì‚¬ ê¸°ì‚¬ë¥¼ í´ëŸ¬ìŠ¤í„°ë§í•˜ì—¬ AIê°€ ìš”ì•½ ì¹´ë“œë¥¼ ìƒì„±í•˜ëŠ” ë°±ì—”ë“œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Pipeline (10ë¶„ë§ˆë‹¤ ìë™ ì‹¤í–‰)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. RSS ìˆ˜ì§‘   â”‚ â†’  â”‚ 2. ì´ìŠˆ í´ëŸ¬ìŠ¤í„°ë§ â”‚ â†’  â”‚ 3. ì¹´ë“œ ìƒì„± (Gemini)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              REST API                                    â”‚
â”‚    GET /api/cards    GET /api/cards/{id}    GET /api/cards/today        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ íŒŒì´í”„ë¼ì¸ ìƒì„¸

### 1ë‹¨ê³„: RSS ìˆ˜ì§‘
- 5ê°œ ê²½ì œ ë‰´ìŠ¤ RSS í”¼ë“œì—ì„œ ê¸°ì‚¬ ìˆ˜ì§‘
- 48ì‹œê°„ ì´ë‚´ ê¸°ì‚¬ë§Œ í•„í„°ë§
- ì¤‘ë³µ ì œê±° í›„ DB ì €ì¥

**ìˆ˜ì§‘ ëŒ€ìƒ:**
| ë§¤ì²´ | RSS URL |
|------|---------|
| ë§¤ì¼ê²½ì œ | https://www.mk.co.kr/rss/30100041/ |
| í•œêµ­ê²½ì œ | https://www.hankyung.com/feed/economy |
| ì´ë°ì¼ë¦¬ | http://rss.edaily.co.kr/economy_news.xml |
| ë¨¸ë‹ˆíˆ¬ë°ì´ | http://rss.mt.co.kr/mt_news.xml |
| ì—°í•©ë‰´ìŠ¤ | http://www.yonhapnews.co.kr/RSS/economy.xml |

### 2ë‹¨ê³„: ì´ìŠˆ í´ëŸ¬ìŠ¤í„°ë§
í‚¤ì›Œë“œ ê¸°ë°˜ìœ¼ë¡œ ê¸°ì‚¬ë¥¼ ë¶„ë¥˜í•˜ì—¬ ì´ìŠˆë¡œ ê·¸ë£¹í•‘

| ì¹´í…Œê³ ë¦¬ | í‚¤ì›Œë“œ ì˜ˆì‹œ |
|----------|-------------|
| RATE (ê¸ˆë¦¬) | ê¸ˆë¦¬, ê¸°ì¤€ê¸ˆë¦¬, ì¸í•˜, ì¸ìƒ, ë™ê²° |
| FX (í™˜ìœ¨) | í™˜ìœ¨, ë‹¬ëŸ¬, ì›í™”, ì™¸í™˜ |
| REALESTATE (ë¶€ë™ì‚°) | ë¶€ë™ì‚°, ì£¼íƒ, ì•„íŒŒíŠ¸, ì „ì„¸ |
| COMMODITY (ì›ìì¬) | ìœ ê°€, ê¸ˆê°’, ì›ìì¬ |
| TRADE (ë¬´ì—­) | ìˆ˜ì¶œ, ìˆ˜ì…, ë¬´ì—­, ê´€ì„¸ |

**ì´ìŠˆ ìƒì„± ì¡°ê±´:**
- ê¸°ì‚¬ 3ê°œ ì´ìƒ
- ì¶œì²˜ 2ê°œ ì´ìƒ

### 3ë‹¨ê³„: ì¹´ë“œ ìƒì„±
Gemini APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì´ìŠˆë³„ ìš”ì•½ ì¹´ë“œ ìƒì„±

**ì¹´ë“œ JSON êµ¬ì¡°:**
```json
{
  "issue_title": "ê¸°ì¤€ê¸ˆë¦¬ ë™ê²°ê³¼ í–¥í›„ í†µí™”ì •ì±… ë°©í–¥",
  "conclusion": "í•œêµ­ì€í–‰ì´ ê¸°ì¤€ê¸ˆë¦¬ë¥¼ ë™ê²°í–ˆìœ¼ë©°...",
  "why_it_matters": "ëŒ€ì¶œ ì´ì, ì˜ˆê¸ˆ ê¸ˆë¦¬ì— ì§ì ‘ ì˜í–¥...",
  "evidence": [
    {"fact": "í•œì€ ê¸ˆí†µìœ„ ê¸°ì¤€ê¸ˆë¦¬ 3.0% ìœ ì§€", "source": "ì—°í•©ë‰´ìŠ¤"},
    {"fact": "ì´ì¬ 'ì¸í•˜ ì—¬ì§€ ê²€í†  ì¤‘' ë°œì–¸", "source": "ë§¤ì¼ê²½ì œ"}
  ],
  "counter_scenario": "ê¸€ë¡œë²Œ ê¸ˆìœµ ë¶ˆì•ˆ ì‹œ ë™ê²° ì¥ê¸°í™” ê°€ëŠ¥ì„±",
  "impact": {"score": 4, "reason": "ëŒ€ì¶œì ì´ì ë¶€ë‹´ ë³€í™”"},
  "action_guide": "ë³€ë™ê¸ˆë¦¬ ëŒ€ì¶œìëŠ” ê¸ˆë¦¬ ì¶”ì´ ì£¼ì‹œ í•„ìš”"
}
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| Language | Kotlin 2.x |
| Framework | Spring Boot 4.0 (WebFlux) |
| Database | MySQL + Exposed ORM 1.0 |
| LLM | Google Gemini API (gemini-2.5-flash) |
| RSS Parser | ROME 1.18 |
| Build | Gradle (Kotlin DSL) |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/main/kotlin/com/yourapp/news/
â”œâ”€â”€ ArticleApplication.kt       # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ api/                        # REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ CardController.kt
â”‚   â””â”€â”€ HealthController.kt
â”œâ”€â”€ article/                    # ê¸°ì‚¬ ë„ë©”ì¸
â”‚   â”œâ”€â”€ Article.kt
â”‚   â”œâ”€â”€ Articles.kt (í…Œì´ë¸”)
â”‚   â””â”€â”€ ArticleStore.kt
â”œâ”€â”€ card/                       # ì¹´ë“œ ë„ë©”ì¸
â”‚   â”œâ”€â”€ Card.kt
â”‚   â”œâ”€â”€ Cards.kt (í…Œì´ë¸”)
â”‚   â”œâ”€â”€ CardStore.kt
â”‚   â”œâ”€â”€ CardGenerationService.kt
â”‚   â”œâ”€â”€ CardReadService.kt
â”‚   â””â”€â”€ PromptBuilder.kt
â”œâ”€â”€ config/                     # ì„¤ì •
â”‚   â”œâ”€â”€ CorsConfig.kt
â”‚   â”œâ”€â”€ ExposedConfig.kt
â”‚   â”œâ”€â”€ OpenApiConfig.kt
â”‚   â””â”€â”€ WebClientConfig.kt
â”œâ”€â”€ issue/                      # ì´ìŠˆ ë„ë©”ì¸
â”‚   â”œâ”€â”€ Issue.kt
â”‚   â”œâ”€â”€ Issues.kt (í…Œì´ë¸”)
â”‚   â”œâ”€â”€ IssueStore.kt
â”‚   â”œâ”€â”€ IssueClusterService.kt
â”‚   â””â”€â”€ CategoryGroup.kt
â”œâ”€â”€ llm/gemini/                 # Gemini API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ GeminiClient.kt
â”‚   â””â”€â”€ GeminiProperties.kt
â”œâ”€â”€ pipeline/                   # íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ PipelineOrchestrator.kt
â”‚   â”œâ”€â”€ PipelineScheduler.kt
â”‚   â””â”€â”€ PipelineRun.kt
â””â”€â”€ rss/                        # RSS ìˆ˜ì§‘
    â”œâ”€â”€ RssCollectorService.kt
    â””â”€â”€ RssProperties.kt
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- ìˆ˜ì§‘ëœ ê¸°ì‚¬
articles (
  link VARCHAR(500) PRIMARY KEY,
  title, summary, publisher, published_at, category, created_at
)

-- í´ëŸ¬ìŠ¤í„°ë§ëœ ì´ìŠˆ
issues (
  id BIGINT PRIMARY KEY,
  fingerprint VARCHAR(255) UNIQUE,  -- ì˜ˆ: "RATE:ê¸ˆë¦¬,ê¸°ì¤€ê¸ˆë¦¬,ì¸í•˜"
  group_name, title, keywords,
  article_count, publisher_count,
  first_published_at, last_published_at
)

-- ì´ìŠˆ-ê¸°ì‚¬ ì—°ê²°
issue_articles (
  issue_id BIGINT,
  article_link VARCHAR(500),
  PRIMARY KEY (issue_id, article_link)
)

-- ìƒì„±ëœ ì¹´ë“œ
cards (
  id BIGINT PRIMARY KEY,
  issue_id BIGINT UNIQUE,
  issue_fingerprint, model, content_json,
  status ENUM('ACTIVE', 'FAILED'),
  created_at, updated_at
)
```

## âš™ï¸ ì„¤ì •

### application.yml

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/article
    username: root
    password: yourpassword

news:
  rss:
    feeds:
      - https://www.mk.co.kr/rss/30100041/
      - https://www.hankyung.com/feed/economy
      # ...
  pipeline:
    enabled: true
    cron: "0 */10 * * * *"  # 10ë¶„ë§ˆë‹¤

gemini:
  api-key: ${GEMINI_API_KEY}
  model: gemini-2.5-flash
  timeout-ms: 15000
  max-retries: 2
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
```sql
CREATE DATABASE article CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì„ íƒ)
```bash
set GEMINI_API_KEY=your-api-key
```

### 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
```bash
./gradlew bootRun
```

### 4. API í™•ì¸
- Swagger UI: http://localhost:8080/swagger-ui.html
- Health Check: http://localhost:8080/api/health
- ì¹´ë“œ ëª©ë¡: http://localhost:8080/api/cards

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

| Method | Path | ì„¤ëª… |
|--------|------|------|
| GET | /api/cards | ì˜¤ëŠ˜ ìƒì„±ëœ ì¹´ë“œ ëª©ë¡ |
| GET | /api/cards/{id} | ì¹´ë“œ ìƒì„¸ ì¡°íšŒ |
| GET | /api/cards/today | ì˜¤ëŠ˜ì ì¹´ë“œ ëª©ë¡ |
| GET | /api/health | ì„œë²„ ìƒíƒœ |
| GET | /api/health/pipeline | ë§ˆì§€ë§‰ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ì •ë³´ |

## ğŸ”§ Gemini API í˜¸ì¶œ ìµœì í™”

- **ACTIVE ì¹´ë“œ ìŠ¤í‚µ**: ì´ë¯¸ ì„±ê³µí•œ ì¹´ë“œëŠ” ì¬ìƒì„±í•˜ì§€ ì•ŠìŒ
- **FAILED ì¹´ë“œ ì¬ì‹œë„**: ì‹¤íŒ¨í•œ ì¹´ë“œëŠ” ë‹¤ìŒ íŒŒì´í”„ë¼ì¸ì—ì„œ ì¬ì‹œë„
- **Rate Limit ëŒ€ì‘**: ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ (ìµœëŒ€ 2íšŒ)

## ğŸ“Š ë¡œê¹…

```
[RSS] Collection complete: totalFeeds=5, success=5, failed=0, totalSaved=122
[Cluster] Created 2, Updated 1, Skipped 96
[Card] Generated 2, Skipped 2, Failed 0
Pipeline finished: Status=SUCCESS, Duration=2899ms
```

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License
