import{c as te,a as _,f as u,s as c,e as ns}from"../chunks/JBNUid9-.js";import{i as rs}from"../chunks/D--sC15e.js";import{h as be,K as ls,L as vs,M as V,N as is,O as f,q as B,d as e,Q as a,R as s,P as t,S as b,Y as r,V as os,ar as ne}from"../chunks/DExS8c7-.js";import{i as k}from"../chunks/CziFgNj8.js";import{e as ke,i as xe}from"../chunks/CUorJNVT.js";import{e as cs,f as ps,i as _s,s as T,r as gs,h as us}from"../chunks/D4c94o38.js";import{t as ds,s as ms}from"../chunks/D4DO-hTu.js";import{p as fs,s as hs,a as bs}from"../chunks/BWMsIlHo.js";import{b as ye}from"../chunks/B0N0VACA.js";import{g as we,a as $e,f as Ce}from"../chunks/CWF1PM-K.js";function ks(x,$,P,G){var J=x.__style;if(be||J!==$){var h=ds($);(!be||h!==x.getAttribute("style"))&&(h==null?x.removeAttribute("style"):x.style.cssText=h),x.__style=$}return G}var xs=u('<div class="loading svelte-n723gn"><div class="spinner svelte-n723gn"></div></div>'),ys=u('<div class="error svelte-n723gn"><p> </p> <a class="svelte-n723gn">홈으로 돌아가기</a></div>'),ws=u('<button><svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="svelte-n723gn"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg></button>'),$s=u('<p class="signal svelte-n723gn"> </p>'),Cs=u("<span>·</span> <span> </span>",1),Is=u('<li class="svelte-n723gn"><span class="ev-source svelte-n723gn"> </span> <span class="ev-fact svelte-n723gn"> </span></li>'),Ls=u('<section class="section svelte-n723gn"><h2 class="svelte-n723gn">근거</h2> <ul class="evidence svelte-n723gn"></ul></section>'),Bs=u('<li class="svelte-n723gn"><a target="_blank" rel="noopener noreferrer" class="svelte-n723gn"><span class="art-title svelte-n723gn"> </span> <span class="art-meta svelte-n723gn"> </span></a></li>'),Ns=u('<section class="section svelte-n723gn"><h2 class="svelte-n723gn"> </h2> <ul class="articles svelte-n723gn"></ul></section>'),As=u('<article class="article svelte-n723gn"><a class="back svelte-n723gn">← 뒤로</a> <header class="header svelte-n723gn"><div class="header-top svelte-n723gn"><span class="cat svelte-n723gn"> </span> <!></div> <h1 class="title svelte-n723gn"> </h1> <!> <div class="meta svelte-n723gn"><span> </span> <span>·</span> <span> </span> <span>·</span> <span> </span> <!></div></header> <section class="section highlight svelte-n723gn"><h2 class="svelte-n723gn">핵심 요약</h2> <p class="lead svelte-n723gn"> </p></section> <section class="section svelte-n723gn"><h2 class="svelte-n723gn">왜 중요한가</h2> <p class="svelte-n723gn"> </p></section> <!> <section class="section svelte-n723gn"><h2 class="svelte-n723gn">반대 시나리오</h2> <p class="svelte-n723gn"> </p></section> <section class="section svelte-n723gn"><h2 class="svelte-n723gn">영향도</h2> <div class="impact svelte-n723gn"><div class="impact-score svelte-n723gn"><span class="score-num svelte-n723gn"> </span> <span class="score-max svelte-n723gn">/5</span></div> <div class="impact-bar svelte-n723gn"><div class="impact-fill svelte-n723gn"></div></div> <p class="impact-reason svelte-n723gn"> </p></div></section> <section class="section action svelte-n723gn"><h2 class="svelte-n723gn">행동 가이드</h2> <p class="svelte-n723gn"> </p></section> <!></article>');function qs(x,$){ls($,!1);const P=()=>bs(_s,"$isLoggedIn",G),[G,J]=hs();let h=fs($,"params",8),n=B(null),i=B(null),re=B(!0),O=B(null),y=B(!1),R=B(!1);vs(async()=>{try{f(n,await cs(Number(h().issueId)));const o=e(n).cardJson;if(f(i,typeof o=="string"?JSON.parse(o):o),P())try{const d=await ps(Number(h().issueId));f(y,d.bookmarked)}catch{}}catch(o){f(O,o?.message??"불러오기 실패")}finally{f(re,!1)}});async function Ie(){if(P()){f(R,!0);try{e(y)?(await gs(Number(h().issueId)),f(y,!1)):(await us(Number(h().issueId)),f(y,!0))}catch(o){console.error("북마크 처리 실패:",o)}finally{f(R,!1)}}}function Le(o){const d=new Date(o);return`${d.getMonth()+1}월 ${d.getDate()}일`}function Be(o){return o.headline||o.issueTitle}rs();var le=te(),Ne=V(le);{var Ae=o=>{var d=xs();_(o,d)},Se=o=>{var d=te(),De=V(d);{var Me=C=>{var I=ys(),N=a(I),q=a(N,!0);s(N);var A=t(N,2);s(I),b(()=>{c(q,e(O)),T(A,"href",`${ye??""}/`)}),_(C,I)},Te=C=>{var I=te(),N=V(I);{var q=A=>{var z=As(),ve=a(z),K=t(ve,2),Q=a(K),Y=a(Q),Pe=a(Y,!0);s(Y);var Ve=t(Y,2);{var Ge=v=>{var l=ws();let p;var w=a(l);s(l),b(()=>{p=ms(l,1,"bookmark-btn svelte-n723gn",null,p,{active:e(y)}),l.disabled=e(R),T(l,"aria-label",e(y)?"북마크 해제":"북마크 추가"),T(w,"fill",e(y)?"currentColor":"none")}),ns("click",l,Ie),_(v,l)};k(Ve,v=>{P()&&v(Ge)})}s(Q);var j=t(Q,2),Je=a(j,!0);s(j);var ie=t(j,2);{var Oe=v=>{var l=$s(),p=a(l,!0);s(l),b(()=>c(p,(e(n),r(()=>e(n).signalSummary)))),_(v,l)};k(ie,v=>{e(n),r(()=>e(n).signalSummary)&&v(Oe)})}var oe=t(ie,2),E=a(oe),Re=a(E,!0);s(E);var F=t(E,4),qe=a(F);s(F);var H=t(F,4),ze=a(H);s(H);var Ke=t(H,2);{var Qe=v=>{var l=Cs(),p=t(V(l),2),w=a(p);s(p),b(m=>c(w,`${m??""} 조회`),[()=>(ne(Ce),e(n),r(()=>Ce(e(n).viewCount)))]),_(v,l)};k(Ke,v=>{e(n),r(()=>e(n).viewCount)&&v(Qe)})}s(oe),s(K);var U=t(K,2),ce=t(a(U),2),Ye=a(ce,!0);s(ce),s(U);var W=t(U,2),pe=t(a(W),2),je=a(pe,!0);s(pe),s(W);var _e=t(W,2);{var Ee=v=>{var l=Ls(),p=t(a(l),2);ke(p,5,()=>(e(i),r(()=>e(i).evidence)),xe,(w,m)=>{var S=Is(),g=a(S),D=a(g,!0);s(g);var L=t(g,2),M=a(L,!0);s(L),s(S),b(()=>{c(D,(e(m),r(()=>e(m).source))),c(M,(e(m),r(()=>e(m).fact)))}),_(w,S)}),s(p),s(l),_(v,l)};k(_e,v=>{e(i),r(()=>e(i).evidence?.length>0)&&v(Ee)})}var X=t(_e,2),ge=t(a(X),2),Fe=a(ge,!0);s(ge),s(X);var Z=t(X,2),ue=t(a(Z),2),ee=a(ue),de=a(ee),He=a(de,!0);s(de),os(2),s(ee);var se=t(ee,2),Ue=a(se);s(se);var me=t(se,2),We=a(me,!0);s(me),s(ue),s(Z);var ae=t(Z,2),fe=t(a(ae),2),Xe=a(fe,!0);s(fe),s(ae);var Ze=t(ae,2);{var es=v=>{var l=Ns(),p=a(l),w=a(p);s(p);var m=t(p,2);ke(m,5,()=>(e(n),r(()=>e(n).articles)),xe,(S,g)=>{var D=Bs(),L=a(D),M=a(L),ss=a(M,!0);s(M);var he=t(M,2),as=a(he);s(he),s(L),s(D),b(ts=>{T(L,"href",(e(g),r(()=>e(g).link))),c(ss,(e(g),r(()=>e(g).title))),c(as,`${e(g),r(()=>e(g).publisher)??""} · ${ts??""}`)},[()=>(e(g),r(()=>Le(e(g).publishedAt)))]),_(S,D)}),s(m),s(l),b(()=>c(w,`관련 기사 (${e(n),r(()=>e(n).articles.length)??""})`)),_(v,l)};k(Ze,v=>{e(n),r(()=>e(n).articles?.length>0)&&v(es)})}s(z),b((v,l,p)=>{T(ve,"href",`${ye??""}/`),c(Pe,v),c(Je,l),c(Re,p),c(qe,`${e(n),r(()=>e(n).issueArticleCount)??""}개 기사`),c(ze,`${e(n),r(()=>e(n).issuePublisherCount)??""}개 매체`),c(Ye,(e(i),r(()=>e(i).conclusion))),c(je,(e(i),r(()=>e(i).why_it_matters))),c(Fe,(e(i),r(()=>e(i).counter_scenario))),c(He,(e(i),r(()=>e(i).impact?.score??"-"))),ks(Ue,`width: ${e(i),r(()=>(e(i).impact?.score??0)/5*100)??""}%`),c(We,(e(i),r(()=>e(i).impact?.reason))),c(Xe,(e(i),r(()=>e(i).action_guide)))},[()=>(ne(we),e(n),r(()=>we(e(n).issueGroup))),()=>(e(n),r(()=>Be(e(n)))),()=>(ne($e),e(n),r(()=>$e(e(n).issueLastPublishedAt)))]),_(A,z)};k(N,A=>{e(n)&&e(i)&&A(q)},!0)}_(C,I)};k(De,C=>{e(O)?C(Me):C(Te,!1)},!0)}_(o,d)};k(Ne,o=>{e(re)?o(Ae):o(Se,!1)})}_(x,le),is(),J()}export{qs as component};
