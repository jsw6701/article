import{c as J,a as l,f as y}from"../chunks/TFX7ugsA.js";import"../chunks/D6SK0GIy.js";import{o as La}from"../chunks/DujhYGdh.js";import{p as za,f as O,a as Ba,g as t,Y as z,o as d,c as e,s,b as a,t as k}from"../chunks/C9SIyTFa.js";import{i as $,e as ba,s as o}from"../chunks/bwNj2O70.js";import{e as ha,i as ga}from"../chunks/DShnAKY6.js";import{s as Q}from"../chunks/xoXkTC80.js";import{s as ia}from"../chunks/lJrTxOp0.js";import{i as Ea}from"../chunks/CSrNcNRV.js";import{b as X}from"../chunks/CDBHGxnl.js";import{b as Ga,c as Va,d as Ha,A as Ka}from"../chunks/Do2HDaJV.js";import{a as ka,b as Oa}from"../chunks/8QpmlEFl.js";import{i as Ua}from"../chunks/CMcePfVQ.js";/* empty css                */import{S as f,N as Wa}from"../chunks/6tNKBOe5.js";var Ya=y('<div class="home svelte-1uha8ag"><header class="header svelte-1uha8ag"><!> <div style="margin-top: 8px;"><!></div></header> <section class="section svelte-1uha8ag"><!> <div class="rank-list svelte-1uha8ag"><!> <!> <!></div></section> <section class="section svelte-1uha8ag"><div class="section-header svelte-1uha8ag"><!> <!></div> <div class="cards svelte-1uha8ag"><!> <!> <!></div></section></div>'),ja=y('<p class="rank-desc svelte-1uha8ag"> </p>'),qa=y('<li class="svelte-1uha8ag"><a class="rank-item svelte-1uha8ag"><span></span> <div class="rank-content svelte-1uha8ag"><p class="rank-title svelte-1uha8ag"> </p> <!></div> <span class="rank-meta svelte-1uha8ag"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> </span></a></li>'),Fa=y('<p class="rank-desc svelte-1uha8ag"> </p>'),Ja=y('<li class="svelte-1uha8ag"><a class="rank-item svelte-1uha8ag"><span></span> <div class="rank-content svelte-1uha8ag"><p class="rank-title svelte-1uha8ag"> </p> <!></div> <span class="rank-meta svelte-1uha8ag"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path></svg> </span></a></li>'),Qa=y('<p class="card-highlight svelte-1uha8ag"> </p>'),Xa=y('<p class="card-desc svelte-1uha8ag"> </p>'),Za=y("<span>·</span> <span> </span>",1),ae=y('<a class="card svelte-1uha8ag"><div class="card-header svelte-1uha8ag"><span class="card-category svelte-1uha8ag"> </span> <span class="card-time svelte-1uha8ag"> </span></div> <h3 class="card-title svelte-1uha8ag"> </h3> <!> <div class="card-footer svelte-1uha8ag"><span> </span> <!></div></a>'),ee=y('<section class="section svelte-1uha8ag"><div class="section-header svelte-1uha8ag"><h2 class="svelte-1uha8ag">최신 브리핑</h2> <a class="section-link svelte-1uha8ag">전체 보기</a></div> <div class="cards svelte-1uha8ag"></div></section>'),te=y('<div class="home svelte-1uha8ag"><header class="header svelte-1uha8ag"><h1 class="title svelte-1uha8ag">브리핑</h1> <p class="subtitle svelte-1uha8ag">오늘의 경제 뉴스</p></header> <section class="section svelte-1uha8ag"><div class="segment-control svelte-1uha8ag"><button>실시간</button> <button>인기</button></div> <ul class="rank-list svelte-1uha8ag"><!></ul> <a class="more-link svelte-1uha8ag">전체 보기</a></section> <!></div>');function fe(wa,Ca){za(Ca,!1);let la=z([]),_a=z([]),ma=z([]),va=z(!0),na=z(!1),D=z(null),U=z("trend");async function fa(){d(va,!0),d(D,null);try{const[r,c,w]=await Promise.all([Ga({limit:3,offset:0}),Va({limit:5}),Ha({limit:5})]);d(la,r.items),d(_a,c.items),d(ma,w.items)}catch(r){console.error(r),r instanceof Ka?d(D,{type:r.type,message:r.message,retryable:r.retryable}):d(D,{type:"UNKNOWN",message:"데이터를 불러오는데 실패했습니다.",retryable:!0})}finally{d(va,!1),d(na,!1)}}async function Ta(){d(na,!0),await fa()}La(()=>{const r=Ua.subscribe(async c=>{c&&(await fa(),r())});return r});function $a(r){const c=new Date,w=new Date(r),x=Math.floor((c.getTime()-w.getTime())/1e3/60);return x<60?`${x}분 전`:x<1440?`${Math.floor(x/60)}시간 전`:`${Math.floor(x/1440)}일 전`}function ya(r){return r.headline||r.issueTitle}function Sa(r){return r.card.headline||r.card.issueTitle}Ea();var xa=J(),Ma=O(xa);{var Da=r=>{var c=Ya(),w=e(c),x=e(w);f(x,{type:"custom",width:"120px",height:"32px"});var Z=s(x,2),S=e(Z);f(S,{type:"custom",width:"100px",height:"16px"}),a(Z),a(w);var N=s(w,2),B=e(N);f(B,{type:"custom",width:"140px",height:"36px"});var E=s(B,2),G=e(E);f(G,{type:"rank-item"});var W=s(G,2);f(W,{type:"rank-item"});var aa=s(W,2);f(aa,{type:"rank-item"}),a(E),a(N);var Y=s(N,2),A=e(Y),ea=e(A);f(ea,{type:"custom",width:"100px",height:"24px"});var oa=s(ea,2);f(oa,{type:"custom",width:"60px",height:"16px"}),a(A);var ta=s(A,2),sa=e(ta);f(sa,{type:"card"});var ra=s(sa,2);f(ra,{type:"card"});var ca=s(ra,2);f(ca,{type:"card"}),a(ta),a(Y),a(c),l(r,c)},Na=r=>{var c=J(),w=O(c);{var x=S=>{Wa(S,{get errorType(){return t(D).type},get message(){return t(D).message},get retryable(){return t(D).retryable},get loading(){return t(na)},$$events:{retry:Ta}})},Z=S=>{var N=te(),B=s(e(N),2),E=e(B),G=e(E);let W;var aa=s(G,2);let Y;a(E);var A=s(E,2),ea=e(A);{var oa=b=>{var C=J(),I=O(C);ha(I,1,()=>t(_a).slice(0,3),ga,(j,v,P)=>{var i=qa(),u=e(i),h=e(u);ia(h,1,"rank svelte-1uha8ag",null,{},{top:P===0}),h.textContent=P+1;var g=s(h,2),T=e(g),V=e(T,!0);a(T);var q=s(T,2);{var R=n=>{var _=ja(),K=e(_,!0);a(_),k(()=>o(K,t(v).signalSummary)),l(n,_)};$(q,n=>{t(v).signalSummary&&n(R)})}a(g);var L=s(g,2),H=s(e(L));a(L),a(u),a(i),k(n=>{Q(u,"href",`${X??""}/cards/${t(v).issueId??""}`),o(V,n),o(H,` ${t(v).articleCount??""}`)},[()=>ya(t(v))]),l(j,i)}),l(b,C)},ta=b=>{var C=J(),I=O(C);ha(I,1,()=>t(ma).slice(0,3),ga,(j,v,P)=>{var i=Ja(),u=e(i),h=e(u);ia(h,1,"rank svelte-1uha8ag",null,{},{top:P===0}),h.textContent=P+1;var g=s(h,2),T=e(g),V=e(T,!0);a(T);var q=s(T,2);{var R=n=>{var _=Fa(),K=e(_,!0);a(_),k(()=>o(K,t(v).card.signalSummary)),l(n,_)};$(q,n=>{t(v).card.signalSummary&&n(R)})}a(g);var L=s(g,2),H=s(e(L));a(L),a(u),a(i),k((n,_)=>{Q(u,"href",`${X??""}/cards/${t(v).card.issueId??""}`),o(V,n),o(H,` ${_??""}`)},[()=>Sa(t(v)),()=>ka(t(v).viewCount)]),l(j,i)}),l(b,C)};$(ea,b=>{t(U)==="trend"?b(oa):b(ta,!1)})}a(A);var sa=s(A,2);a(B);var ra=s(B,2);{var ca=b=>{var C=ee(),I=e(C),j=s(e(I),2);a(I);var v=s(I,2);ha(v,5,()=>t(la),ga,(P,i)=>{var u=ae(),h=e(u),g=e(h),T=e(g,!0);a(g);var V=s(g,2),q=e(V,!0);a(V),a(h);var R=s(h,2),L=e(R,!0);a(R);var H=s(R,2);{var n=p=>{var m=Qa(),M=e(m,!0);a(m),k(()=>o(M,t(i).signalSummary)),l(p,m)},_=p=>{var m=J(),M=O(m);{var pa=F=>{var da=Xa(),Ra=e(da,!0);a(da),k(()=>o(Ra,t(i).conclusion)),l(F,da)};$(M,F=>{t(i).conclusion&&F(pa)},!0)}l(p,m)};$(H,p=>{t(i).signalSummary?p(n):p(_,!1)})}var K=s(H,2),ua=e(K),Aa=e(ua);a(ua);var Ia=s(ua,2);{var Pa=p=>{var m=Za(),M=s(O(m),2),pa=e(M);a(M),k(F=>o(pa,`${F??""} 조회`),[()=>ka(t(i).viewCount)]),l(p,m)};$(Ia,p=>{t(i).viewCount&&p(Pa)})}a(K),a(u),k((p,m,M)=>{Q(u,"href",`${X??""}/cards/${t(i).issueId??""}`),o(T,p),o(q,m),o(L,M),o(Aa,`${t(i).articleCount??""}개 기사`)},[()=>Oa(t(i).issueGroup),()=>$a(t(i).issueLastPublishedAt),()=>ya(t(i))]),l(P,u)}),a(v),a(C),k(()=>Q(j,"href",`${X??""}/today`)),l(b,C)};$(ra,b=>{t(la).length>0&&b(ca)})}a(N),k(()=>{W=ia(G,1,"segment svelte-1uha8ag",null,W,{active:t(U)==="trend"}),Y=ia(aa,1,"segment svelte-1uha8ag",null,Y,{active:t(U)==="popular"}),Q(sa,"href",`${X??""}/trending`)}),ba("click",G,()=>d(U,"trend")),ba("click",aa,()=>d(U,"popular")),l(S,N)};$(w,S=>{t(D)?S(x):S(Z,!1)},!0)}l(r,c)};$(Ma,r=>{t(va)?r(Da):r(Na,!1)})}l(wa,xa),Ba()}export{fe as component};
