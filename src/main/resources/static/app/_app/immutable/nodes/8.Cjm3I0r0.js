import{f as d,e as ia,a as t,s as c,c as k}from"../chunks/B-OvIa1U.js";import{i as Ga}from"../chunks/CdXFSiSg.js";import{a4 as Ia,a5 as Ma,ab as f,a7 as Pa,a9 as s,a8 as i,s as I,o as j,aa as e,a,a6 as C}from"../chunks/C_qc7GMT.js";import{i as _}from"../chunks/7qhV2vbv.js";import{e as ua,i as _a}from"../chunks/voZxLLH9.js";import{i as Ba,g as Da,a as La,s as fa}from"../chunks/D2PtFGOZ.js";import{s as q}from"../chunks/tHjlPVu2.js";import{b as za}from"../chunks/rYzDofXa.js";import{g as ga,f as Ra}from"../chunks/CWF1PM-K.js";var Va=d('<div class="loading svelte-1aizo1m"><div class="spinner svelte-1aizo1m"></div></div>'),Ha=d('<div class="error svelte-1aizo1m"><p> </p> <button class="svelte-1aizo1m">다시 시도</button></div>'),ja=d('<div class="empty svelte-1aizo1m"><p>트렌딩 이슈가 없습니다</p></div>'),qa=d('<p class="summary svelte-1aizo1m"> </p>'),Aa=d('<p class="summary svelte-1aizo1m"> </p>'),Ea=d('<a class="item svelte-1aizo1m"><div></div> <div class="content svelte-1aizo1m"><span class="cat svelte-1aizo1m"> </span> <h2 class="title svelte-1aizo1m"> </h2> <!> <div class="stats svelte-1aizo1m"><span class="stat svelte-1aizo1m"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> </span></div></div></a>'),Fa=d('<div class="empty svelte-1aizo1m"><p>인기 이슈가 없습니다</p></div>'),Ja=d('<p class="summary svelte-1aizo1m"> </p>'),Ka=d('<p class="summary svelte-1aizo1m"> </p>'),Na=d('<a class="item svelte-1aizo1m"><div></div> <div class="content svelte-1aizo1m"><span class="cat svelte-1aizo1m"> </span> <h2 class="title svelte-1aizo1m"> </h2> <!> <div class="stats svelte-1aizo1m"><span class="stat svelte-1aizo1m"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </span></div></div></a>'),Oa=d('<div class="list svelte-1aizo1m"><!></div>'),Qa=d('<div class="page svelte-1aizo1m"><header class="page-header svelte-1aizo1m"><h1 class="svelte-1aizo1m">트렌딩</h1> <p class="svelte-1aizo1m"> </p></header> <div class="tab-header svelte-1aizo1m"><button>화제</button> <button>조회수</button></div> <!></div>');function ts(ha,ba){Ia(ba,!1);let A=j([]),E=j([]),na=j(!0),F=j(null),w=j("trend");Ma(()=>{const l=Ba.subscribe(async T=>{if(T){try{const[M,Q]=await Promise.all([Da({limit:10}),La({limit:10})]);I(A,M.items),I(E,Q.items)}catch(M){I(F,M?.message??"불러오기 실패")}finally{I(na,!1)}l()}});return l});function xa(l){return l.headline||l.issueTitle}function ya(l){return l.card.headline||l.card.issueTitle}Ga();var J=Qa(),K=s(J),ca=i(s(K),2),ka=s(ca,!0);e(ca),e(K);var N=i(K,2),O=s(N);let da;var pa=i(O,2);let ma;e(N);var Ca=i(N,2);{var wa=l=>{var T=Va();t(l,T)},Ta=l=>{var T=k(),M=C(T);{var Q=S=>{var z=Ha(),P=s(z),U=s(P,!0);e(P);var W=i(P,2);e(z),f(()=>c(U,a(F))),ia("click",W,()=>location.reload()),t(S,z)},Sa=S=>{var z=Oa(),P=s(z);{var U=G=>{var B=k(),X=C(B);{var Y=n=>{var p=ja();t(n,p)},Z=n=>{var p=k(),$=C(p);ua($,1,()=>a(A),_a,(aa,r,D)=>{var m=Ea(),g=s(m);q(g,1,"rank svelte-1aizo1m",null,{},{top:D<3}),g.textContent=D+1;var L=i(g,2),h=s(L),sa=s(h,!0);e(h);var b=i(h,2),ea=s(b,!0);e(b);var R=i(b,2);{var ta=v=>{var o=qa(),u=s(o,!0);e(o),f(()=>c(u,a(r).signalSummary)),t(v,o)},ra=v=>{var o=k(),u=C(o);{var oa=x=>{var y=Aa(),la=s(y,!0);e(y),f(()=>c(la,a(r).conclusion)),t(x,y)};_(u,x=>{a(r).conclusion&&x(oa)},!0)}t(v,o)};_(R,v=>{a(r).signalSummary?v(ta):v(ra,!1)})}var V=i(R,2),H=s(V),va=i(s(H));e(H),e(V),e(L),e(m),f((v,o)=>{fa(m,"href",`${za??""}/cards/${a(r).issueId??""}`),c(sa,v),c(ea,o),c(va,` ${a(r).articleCount??""}개 기사`)},[()=>ga(a(r).issueGroup),()=>xa(a(r))]),t(aa,m)}),t(n,p)};_(X,n=>{a(A).length===0?n(Y):n(Z,!1)})}t(G,B)},W=G=>{var B=k(),X=C(B);{var Y=n=>{var p=Fa();t(n,p)},Z=n=>{var p=k(),$=C(p);ua($,1,()=>a(E),_a,(aa,r,D)=>{var m=Na(),g=s(m);q(g,1,"rank svelte-1aizo1m",null,{},{top:D<3}),g.textContent=D+1;var L=i(g,2),h=s(L),sa=s(h,!0);e(h);var b=i(h,2),ea=s(b,!0);e(b);var R=i(b,2);{var ta=v=>{var o=Ja(),u=s(o,!0);e(o),f(()=>c(u,a(r).card.signalSummary)),t(v,o)},ra=v=>{var o=k(),u=C(o);{var oa=x=>{var y=Ka(),la=s(y,!0);e(y),f(()=>c(la,a(r).card.conclusion)),t(x,y)};_(u,x=>{a(r).card.conclusion&&x(oa)},!0)}t(v,o)};_(R,v=>{a(r).card.signalSummary?v(ta):v(ra,!1)})}var V=i(R,2),H=s(V),va=i(s(H));e(H),e(V),e(L),e(m),f((v,o,u)=>{fa(m,"href",`${za??""}/cards/${a(r).card.issueId??""}`),c(sa,v),c(ea,o),c(va,` ${u??""} 조회`)},[()=>ga(a(r).card.issueGroup),()=>ya(a(r)),()=>Ra(a(r).viewCount)]),t(aa,m)}),t(n,p)};_(X,n=>{a(E).length===0?n(Y):n(Z,!1)})}t(G,B)};_(P,G=>{a(w)==="trend"?G(U):G(W,!1)})}e(z),t(S,z)};_(M,S=>{a(F)?S(Q):S(Sa,!1)},!0)}t(l,T)};_(Ca,l=>{a(na)?l(wa):l(Ta,!1)})}e(J),f(()=>{c(ka,a(w)==="trend"?"기사가 많이 나온 이슈":"조회수가 높은 이슈"),da=q(O,1,"tab-btn svelte-1aizo1m",null,da,{active:a(w)==="trend"}),ma=q(pa,1,"tab-btn svelte-1aizo1m",null,ma,{active:a(w)==="popular"})}),ia("click",O,()=>I(w,"trend")),ia("click",pa,()=>I(w,"popular")),t(ha,J),Pa()}export{ts as component};
