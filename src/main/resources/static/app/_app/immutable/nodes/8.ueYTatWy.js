import{f as d,e as ia,a as t,s as c,c as k}from"../chunks/JBNUid9-.js";import{i as Ma}from"../chunks/D--sC15e.js";import{K as Pa,L as Ga,S as f,N as Ia,Q as e,P as i,O as P,q as H,R as s,d as a,M as C}from"../chunks/DExS8c7-.js";import{i as _}from"../chunks/CziFgNj8.js";import{e as ua,i as _a}from"../chunks/CUorJNVT.js";import{i as La,g as Ra,a as Ba,s as fa}from"../chunks/D4c94o38.js";import{s as K}from"../chunks/D4DO-hTu.js";import{b as za}from"../chunks/B0N0VACA.js";import{g as ga,f as Da}from"../chunks/CWF1PM-K.js";var Va=d('<div class="loading svelte-1aizo1m"><div class="spinner svelte-1aizo1m"></div></div>'),qa=d('<div class="error svelte-1aizo1m"><p> </p> <button class="svelte-1aizo1m">다시 시도</button></div>'),Ha=d('<div class="empty svelte-1aizo1m"><p>트렌딩 이슈가 없습니다</p></div>'),Ka=d('<p class="summary svelte-1aizo1m"> </p>'),Na=d('<p class="summary svelte-1aizo1m"> </p>'),Oa=d('<a class="item svelte-1aizo1m"><div></div> <div class="content svelte-1aizo1m"><span class="cat svelte-1aizo1m"> </span> <h2 class="title svelte-1aizo1m"> </h2> <!> <div class="stats svelte-1aizo1m"><span class="stat svelte-1aizo1m"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> </span></div></div></a>'),Qa=d('<div class="empty svelte-1aizo1m"><p>인기 이슈가 없습니다</p></div>'),ja=d('<p class="summary svelte-1aizo1m"> </p>'),Aa=d('<p class="summary svelte-1aizo1m"> </p>'),Ea=d('<a class="item svelte-1aizo1m"><div></div> <div class="content svelte-1aizo1m"><span class="cat svelte-1aizo1m"> </span> <h2 class="title svelte-1aizo1m"> </h2> <!> <div class="stats svelte-1aizo1m"><span class="stat svelte-1aizo1m"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </span></div></div></a>'),Fa=d('<div class="list svelte-1aizo1m"><!></div>'),Ja=d('<div class="page svelte-1aizo1m"><header class="page-header svelte-1aizo1m"><h1 class="svelte-1aizo1m">트렌딩</h1> <p class="svelte-1aizo1m"> </p></header> <div class="tab-header svelte-1aizo1m"><button>화제</button> <button>조회수</button></div> <!></div>');function te(ha,ba){Pa(ba,!1);let N=H([]),O=H([]),na=H(!0),Q=H(null),w=H("trend");Ga(()=>{const l=La.subscribe(async T=>{if(T){try{const[G,J]=await Promise.all([Ra({limit:10}),Ba({limit:10})]);P(N,G.items),P(O,J.items)}catch(G){P(Q,G?.message??"불러오기 실패")}finally{P(na,!1)}l()}});return l});function xa(l){return l.headline||l.issueTitle}function ya(l){return l.card.headline||l.card.issueTitle}Ma();var j=Ja(),A=e(j),ca=i(e(A),2),ka=e(ca,!0);s(ca),s(A);var E=i(A,2),F=e(E);let da;var pa=i(F,2);let ma;s(E);var Ca=i(E,2);{var wa=l=>{var T=Va();t(l,T)},Ta=l=>{var T=k(),G=C(T);{var J=S=>{var z=qa(),I=e(z),U=e(I,!0);s(I);var W=i(I,2);s(z),f(()=>c(U,a(Q))),ia("click",W,()=>location.reload()),t(S,z)},Sa=S=>{var z=Fa(),I=e(z);{var U=M=>{var L=k(),X=C(L);{var Y=n=>{var p=Ha();t(n,p)},Z=n=>{var p=k(),$=C(p);ua($,1,()=>a(N),_a,(aa,r,R)=>{var m=Oa(),g=e(m);K(g,1,"rank svelte-1aizo1m",null,{},{top:R<3}),g.textContent=R+1;var B=i(g,2),h=e(B),ea=e(h,!0);s(h);var b=i(h,2),sa=e(b,!0);s(b);var D=i(b,2);{var ta=v=>{var o=Ka(),u=e(o,!0);s(o),f(()=>c(u,a(r).signalSummary)),t(v,o)},ra=v=>{var o=k(),u=C(o);{var oa=x=>{var y=Na(),la=e(y,!0);s(y),f(()=>c(la,a(r).conclusion)),t(x,y)};_(u,x=>{a(r).conclusion&&x(oa)},!0)}t(v,o)};_(D,v=>{a(r).signalSummary?v(ta):v(ra,!1)})}var V=i(D,2),q=e(V),va=i(e(q));s(q),s(V),s(B),s(m),f((v,o)=>{fa(m,"href",`${za??""}/cards/${a(r).issueId??""}`),c(ea,v),c(sa,o),c(va,` ${a(r).articleCount??""}개 기사`)},[()=>ga(a(r).issueGroup),()=>xa(a(r))]),t(aa,m)}),t(n,p)};_(X,n=>{a(N).length===0?n(Y):n(Z,!1)})}t(M,L)},W=M=>{var L=k(),X=C(L);{var Y=n=>{var p=Qa();t(n,p)},Z=n=>{var p=k(),$=C(p);ua($,1,()=>a(O),_a,(aa,r,R)=>{var m=Ea(),g=e(m);K(g,1,"rank svelte-1aizo1m",null,{},{top:R<3}),g.textContent=R+1;var B=i(g,2),h=e(B),ea=e(h,!0);s(h);var b=i(h,2),sa=e(b,!0);s(b);var D=i(b,2);{var ta=v=>{var o=ja(),u=e(o,!0);s(o),f(()=>c(u,a(r).card.signalSummary)),t(v,o)},ra=v=>{var o=k(),u=C(o);{var oa=x=>{var y=Aa(),la=e(y,!0);s(y),f(()=>c(la,a(r).card.conclusion)),t(x,y)};_(u,x=>{a(r).card.conclusion&&x(oa)},!0)}t(v,o)};_(D,v=>{a(r).card.signalSummary?v(ta):v(ra,!1)})}var V=i(D,2),q=e(V),va=i(e(q));s(q),s(V),s(B),s(m),f((v,o,u)=>{fa(m,"href",`${za??""}/cards/${a(r).card.issueId??""}`),c(ea,v),c(sa,o),c(va,` ${u??""} 조회`)},[()=>ga(a(r).card.issueGroup),()=>ya(a(r)),()=>Da(a(r).viewCount)]),t(aa,m)}),t(n,p)};_(X,n=>{a(O).length===0?n(Y):n(Z,!1)})}t(M,L)};_(I,M=>{a(w)==="trend"?M(U):M(W,!1)})}s(z),t(S,z)};_(G,S=>{a(Q)?S(J):S(Sa,!1)},!0)}t(l,T)};_(Ca,l=>{a(na)?l(wa):l(Ta,!1)})}s(j),f(()=>{c(ka,a(w)==="trend"?"기사가 많이 나온 이슈":"조회수가 높은 이슈"),da=K(F,1,"tab-btn svelte-1aizo1m",null,da,{active:a(w)==="trend"}),ma=K(pa,1,"tab-btn svelte-1aizo1m",null,ma,{active:a(w)==="popular"})}),ia("click",F,()=>P(w,"trend")),ia("click",pa,()=>P(w,"popular")),t(ha,j),Ia()}export{te as component};
