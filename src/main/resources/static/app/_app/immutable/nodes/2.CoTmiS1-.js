import{c as la,a as p,f as g,s as v,e as j}from"../chunks/B6ORK0R6.js";import{i as D}from"../chunks/CbVsUGYm.js";import{a8 as H,a9 as J,aa as N,s as i,o as b,a,ae as o,ab as r,ac as t,ad as T}from"../chunks/C6hxv8OO.js";import{i as k}from"../chunks/Csn9HCkf.js";import{e as q,i as z}from"../chunks/DRZtneiz.js";import{s as Q}from"../chunks/CE9KULDP.js";import{s as X}from"../chunks/CsOk_OTb.js";import{t as oa,d as ia}from"../chunks/B8EtuH9q.js";import{o as va}from"../chunks/CtXO8UtM.js";import{g as V,f as W}from"../chunks/DngV_EnA.js";var na=g('<a><div class="brief-bar svelte-1md7eet"></div> <div class="brief-content svelte-1md7eet"><div class="brief-label svelte-1md7eet">오늘의 브리핑</div> <p class="brief-headline svelte-1md7eet"> </p> <div class="brief-meta svelte-1md7eet"><span class="brief-tag svelte-1md7eet"> </span> <span class="brief-time svelte-1md7eet"> </span></div></div></a>');function ua(I,M){H(M,!1);let n=b(null),h=b(!0);va(async()=>{try{const c=await oa(1);i(n,c.items[0]??null)}finally{i(h,!1)}}),D();var f=la(),m=J(f);{var x=c=>{var u=na(),C=o(r(u),2),_=o(r(C),2),O=r(_,!0);t(_);var $=o(_,2),y=r($),A=r(y,!0);t(y);var G=o(y,2),F=r(G,!0);t(G),t($),t(C),t(u),T((L,P,S)=>{X(u,1,L,"svelte-1md7eet"),Q(u,"href",`/cards/${a(n).issueId}`),v(O,a(n).conclusion),v(A,P),v(F,S)},[()=>`today-brief group-${a(n).issueGroup.toLowerCase()}`,()=>V(a(n).issueGroup),()=>W(a(n).cardUpdatedAt)]),p(c,u)};k(m,c=>{!a(h)&&a(n)&&c(x)})}p(I,f),N()}var ca=g("<button> </button>"),da=g('<p class="error svelte-1uha8ag"> </p>'),pa=g('<span class="card-stats svelte-1uha8ag"> </span>'),fa=g('<a><div class="card-meta svelte-1uha8ag"><span class="card-tag svelte-1uha8ag"> </span> <span class="card-time svelte-1uha8ag"> </span> <!></div> <h3 class="card-title svelte-1uha8ag"> </h3> <p class="card-desc svelte-1uha8ag"> </p></a>'),ma=g('<div class="load-more svelte-1uha8ag"><button class="load-btn svelte-1uha8ag"> </button></div>'),_a=g('<!> <section class="filter svelte-1uha8ag"></section> <!> <section class="list svelte-1uha8ag"></section> <!>',1);function La(I,M){H(M,!1);const n=[{label:"전체",value:void 0},{label:"금리",value:"RATE"},{label:"환율",value:"FX"},{label:"주식",value:"STOCK"},{label:"부동산",value:"REALESTATE"},{label:"거시경제",value:"MACRO"},{label:"정책",value:"POLICY"}];let h=b(void 0),f=b([]),m=b(!1),x=b(null),c=20,u=0,C=b(!0);async function _(l=!1){if(!a(m)){i(m,!0),i(x,null);try{l&&(i(f,[]),u=0,i(C,!0));const e=await ia({group:a(h),limit:c,offset:u});i(f,[...a(f),...e.items]),u+=e.items.length,i(C,e.items.length===c)}catch(e){i(x,e?.message??"Failed to load")}finally{i(m,!1)}}}_(!0);function O(l){i(h,l),_(!0)}D();var $=_a(),y=J($);ua(y,{});var A=o(y,2);q(A,5,()=>n,z,(l,e)=>{var s=ca();let d;var w=r(s,!0);t(s),T(()=>{d=X(s,1,"filter-chip svelte-1uha8ag",null,d,{active:a(e).value===a(h)}),v(w,a(e).label)}),j("click",s,()=>O(a(e).value)),p(l,s)}),t(A);var G=o(A,2);{var F=l=>{var e=da(),s=r(e,!0);t(e),T(()=>v(s,a(x))),p(l,e)};k(G,l=>{a(x)&&l(F)})}var L=o(G,2);q(L,5,()=>a(f),z,(l,e)=>{var s=fa(),d=r(s),w=r(d),Z=r(w,!0);t(w);var B=o(w,2),aa=r(B,!0);t(B);var ea=o(B,2);{var ta=E=>{var R=pa(),U=r(R);t(R),T(()=>v(U,`기사 ${a(e).articleCount??""}건 · ${a(e).publisherCount??""}개 언론사`)),p(E,R)};k(ea,E=>{a(e).articleCount>0&&E(ta)})}t(d);var K=o(d,2),sa=r(K,!0);t(K);var Y=o(K,2),ra=r(Y,!0);t(Y),t(s),T((E,R,U)=>{X(s,1,E,"svelte-1uha8ag"),Q(s,"href",`/cards/${a(e).issueId}`),v(Z,R),v(aa,U),v(sa,a(e).issueTitle),v(ra,a(e).conclusion??"내용을 불러오는 중...")},[()=>`card group-${a(e).issueGroup.toLowerCase()}`,()=>V(a(e).issueGroup),()=>W(a(e).issueLastPublishedAt)]),p(l,s)}),t(L);var P=o(L,2);{var S=l=>{var e=ma(),s=r(e),d=r(s,!0);t(s),t(e),T(()=>{s.disabled=a(m),v(d,a(m)?"불러오는 중...":"더 보기")}),j("click",s,()=>_(!1)),p(l,e)};k(P,l=>{a(C)&&l(S)})}p(I,$),N()}export{La as component};
