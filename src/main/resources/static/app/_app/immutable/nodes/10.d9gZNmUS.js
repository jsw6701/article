import{f as d,e as da,a as v,s as c,c as w}from"../chunks/DeXMNu7C.js";import{i as Ia}from"../chunks/one-rmOF.js";import{N as Ma,O as Ra,W as f,Q as Va,U as s,T as o,R as B,w as O,V as t,d as a,P as C}from"../chunks/_mKCt0Dg.js";import{i as p}from"../chunks/n77eKvsn.js";import{e as ga,i as ha}from"../chunks/CfL7-1lS.js";import{i as Da,g as Ha,a as Na,s as za}from"../chunks/25gMEqND.js";import{s as Q}from"../chunks/DKK5T5rF.js";import{b as ba}from"../chunks/kn-GG7-K.js";import{g as ya,f as Oa}from"../chunks/D1mA3LF1.js";import{L as xa}from"../chunks/CVMTtDmx.js";var Qa=d('<div class="loading svelte-1aizo1m"><div class="spinner svelte-1aizo1m"></div></div>'),Ua=d('<div class="error svelte-1aizo1m"><p> </p> <button class="svelte-1aizo1m">다시 시도</button></div>'),Wa=d('<div class="empty svelte-1aizo1m"><p>트렌딩 이슈가 없습니다</p></div>'),ja=d('<p class="summary svelte-1aizo1m"> </p>'),qa=d('<p class="summary svelte-1aizo1m"> </p>'),Aa=d('<a class="item svelte-1aizo1m"><div></div> <div class="content svelte-1aizo1m"><div class="content-header svelte-1aizo1m"><span class="cat svelte-1aizo1m"> </span> <!></div> <h2 class="title svelte-1aizo1m"> </h2> <!> <div class="stats svelte-1aizo1m"><span class="stat svelte-1aizo1m"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> </span></div></div></a>'),Ea=d('<div class="empty svelte-1aizo1m"><p>인기 이슈가 없습니다</p></div>'),Fa=d('<p class="summary svelte-1aizo1m"> </p>'),Ja=d('<p class="summary svelte-1aizo1m"> </p>'),Ka=d('<a class="item svelte-1aizo1m"><div></div> <div class="content svelte-1aizo1m"><div class="content-header svelte-1aizo1m"><span class="cat svelte-1aizo1m"> </span> <!></div> <h2 class="title svelte-1aizo1m"> </h2> <!> <div class="stats svelte-1aizo1m"><span class="stat svelte-1aizo1m"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </span></div></div></a>'),Xa=d('<div class="list svelte-1aizo1m"><!></div>'),Ya=d('<div class="page svelte-1aizo1m"><header class="page-header svelte-1aizo1m"><h1 class="svelte-1aizo1m">트렌딩</h1> <p class="svelte-1aizo1m"> </p></header> <div class="tab-header svelte-1aizo1m"><button>화제</button> <button>조회수</button></div> <!></div>');function ie(ka,wa){Ma(wa,!1);let U=O([]),W=O([]),pa=O(!0),j=O(null),T=O("trend");Ra(()=>{const i=Da.subscribe(async L=>{if(L){try{const[G,J]=await Promise.all([Ha({limit:10}),Na({limit:10})]);B(U,G.items),B(W,J.items)}catch(G){B(j,G?.message??"불러오기 실패")}finally{B(pa,!1)}i()}});return i});function Ca(i){return i.headline||i.issueTitle}function Ta(i){return i.card.headline||i.card.issueTitle}Ia();var q=Ya(),A=s(q),ua=o(s(A),2),La=s(ua,!0);t(ua),t(A);var E=o(A,2),F=s(E);let ma;var _a=o(F,2);let fa;t(E);var Pa=o(E,2);{var Sa=i=>{var L=Qa();v(i,L)},Ba=i=>{var L=w(),G=C(L);{var J=P=>{var g=Ua(),I=s(g),K=s(I,!0);t(I);var X=o(I,2);t(g),f(()=>c(K,a(j))),da("click",X,()=>location.reload()),v(P,g)},Ga=P=>{var g=Xa(),I=s(g);{var K=S=>{var M=w(),Y=C(M);{var Z=n=>{var u=Wa();v(n,u)},$=n=>{var u=w(),aa=C(u);ga(aa,1,()=>a(U),ha,(ea,r,R)=>{var m=Aa(),h=s(m);Q(h,1,"rank svelte-1aizo1m",null,{},{top:R<3}),h.textContent=R+1;var V=o(h,2),z=s(V),b=s(z),sa=s(b,!0);t(b);var ta=o(b,2);{var ra=e=>{xa(e,{get lifecycle(){return a(r).lifecycle},showChange:!0})};p(ta,e=>{a(r).lifecycle&&e(ra)})}t(z);var y=o(z,2),va=s(y,!0);t(y);var D=o(y,2);{var la=e=>{var l=ja(),_=s(l,!0);t(l),f(()=>c(_,a(r).signalSummary)),v(e,l)},oa=e=>{var l=w(),_=C(l);{var na=x=>{var k=qa(),ca=s(k,!0);t(k),f(()=>c(ca,a(r).conclusion)),v(x,k)};p(_,x=>{a(r).conclusion&&x(na)},!0)}v(e,l)};p(D,e=>{a(r).signalSummary?e(la):e(oa,!1)})}var H=o(D,2),N=s(H),ia=o(s(N));t(N),t(H),t(V),t(m),f((e,l)=>{za(m,"href",`${ba??""}/cards/${a(r).issueId??""}`),c(sa,e),c(va,l),c(ia,` ${a(r).articleCount??""}개 기사`)},[()=>ya(a(r).issueGroup),()=>Ca(a(r))]),v(ea,m)}),v(n,u)};p(Y,n=>{a(U).length===0?n(Z):n($,!1)})}v(S,M)},X=S=>{var M=w(),Y=C(M);{var Z=n=>{var u=Ea();v(n,u)},$=n=>{var u=w(),aa=C(u);ga(aa,1,()=>a(W),ha,(ea,r,R)=>{var m=Ka(),h=s(m);Q(h,1,"rank svelte-1aizo1m",null,{},{top:R<3}),h.textContent=R+1;var V=o(h,2),z=s(V),b=s(z),sa=s(b,!0);t(b);var ta=o(b,2);{var ra=e=>{xa(e,{get lifecycle(){return a(r).card.lifecycle},showChange:!0})};p(ta,e=>{a(r).card.lifecycle&&e(ra)})}t(z);var y=o(z,2),va=s(y,!0);t(y);var D=o(y,2);{var la=e=>{var l=Fa(),_=s(l,!0);t(l),f(()=>c(_,a(r).card.signalSummary)),v(e,l)},oa=e=>{var l=w(),_=C(l);{var na=x=>{var k=Ja(),ca=s(k,!0);t(k),f(()=>c(ca,a(r).card.conclusion)),v(x,k)};p(_,x=>{a(r).card.conclusion&&x(na)},!0)}v(e,l)};p(D,e=>{a(r).card.signalSummary?e(la):e(oa,!1)})}var H=o(D,2),N=s(H),ia=o(s(N));t(N),t(H),t(V),t(m),f((e,l,_)=>{za(m,"href",`${ba??""}/cards/${a(r).card.issueId??""}`),c(sa,e),c(va,l),c(ia,` ${_??""} 조회`)},[()=>ya(a(r).card.issueGroup),()=>Ta(a(r)),()=>Oa(a(r).viewCount)]),v(ea,m)}),v(n,u)};p(Y,n=>{a(W).length===0?n(Z):n($,!1)})}v(S,M)};p(I,S=>{a(T)==="trend"?S(K):S(X,!1)})}t(g),v(P,g)};p(G,P=>{a(j)?P(J):P(Ga,!1)},!0)}v(i,L)};p(Pa,i=>{a(pa)?i(Sa):i(Ba,!1)})}t(q),f(()=>{c(La,a(T)==="trend"?"기사가 많이 나온 이슈":"조회수가 높은 이슈"),ma=Q(F,1,"tab-btn svelte-1aizo1m",null,ma,{active:a(T)==="trend"}),fa=Q(_a,1,"tab-btn svelte-1aizo1m",null,fa,{active:a(T)==="popular"})}),da("click",F,()=>B(T,"trend")),da("click",_a,()=>B(T,"popular")),v(ka,q),Va()}export{ie as component};
