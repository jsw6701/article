import{c as ta,a as l,f as u,e as ra,s as o}from"../chunks/B-OvIa1U.js";import{i as Ta}from"../chunks/CdXFSiSg.js";import{a4 as $a,a5 as Ma,a6 as va,a7 as Sa,s as P,o as B,a,a8 as t,a9 as e,aa as s,ab as k}from"../chunks/C_qc7GMT.js";import{i as C}from"../chunks/7qhV2vbv.js";import{e as N,i as O}from"../chunks/voZxLLH9.js";import{i as Da,l as Ia,g as Pa,a as La,s as G}from"../chunks/D2PtFGOZ.js";import{s as H}from"../chunks/tHjlPVu2.js";import{b as V}from"../chunks/rYzDofXa.js";import{f as la,g as Ra}from"../chunks/CWF1PM-K.js";var za=u('<div class="loading svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div></div>'),Aa=u('<span class="rank-sub svelte-1uha8ag"> </span>'),Ba=u('<a class="rank-item svelte-1uha8ag"><span></span> <div class="rank-content svelte-1uha8ag"><span class="rank-title svelte-1uha8ag"> </span> <!></div> <span class="rank-badge svelte-1uha8ag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1uha8ag"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> </span></a>'),Ga=u('<div class="rank-list svelte-1uha8ag"></div>'),Va=u('<span class="rank-sub svelte-1uha8ag"> </span>'),Ha=u('<a class="rank-item svelte-1uha8ag"><span></span> <div class="rank-content svelte-1uha8ag"><span class="rank-title svelte-1uha8ag"> </span> <!></div> <span class="rank-badge svelte-1uha8ag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1uha8ag"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </span></a>'),ja=u('<div class="rank-list svelte-1uha8ag"></div>'),qa=u('<p class="card-summary svelte-1uha8ag"> </p>'),Ea=u('<p class="card-desc svelte-1uha8ag"> </p>'),Fa=u('<span class="card-views svelte-1uha8ag"> </span>'),Ja=u('<a class="card svelte-1uha8ag"><div class="card-top svelte-1uha8ag"><span class="card-cat svelte-1uha8ag"> </span> <span class="card-time svelte-1uha8ag"> </span></div> <h3 class="card-title svelte-1uha8ag"> </h3> <!> <div class="card-bottom svelte-1uha8ag"><span class="card-articles svelte-1uha8ag"> </span> <!></div></a>'),Ka=u('<section class="section svelte-1uha8ag"><div class="section-head svelte-1uha8ag"><h2 class="svelte-1uha8ag">최신 브리핑</h2> <a class="svelte-1uha8ag">더보기</a></div> <div class="card-list svelte-1uha8ag"></div></section>'),Na=u('<div class="home svelte-1uha8ag"><div class="greeting svelte-1uha8ag"><p class="greeting-sub svelte-1uha8ag">오늘의 경제</p> <h1 class="greeting-main svelte-1uha8ag">브리핑</h1></div> <section class="section svelte-1uha8ag"><div class="tab-header svelte-1uha8ag"><button>화제</button> <button>조회수</button> <a class="tab-more svelte-1uha8ag">더보기</a></div> <div class="tab-content"><!></div></section> <!></div>');function es(na,ia){$a(ia,!1);let j=B([]),Q=B([]),U=B([]),W=B(!0),L=B("trend");Ma(()=>{const v=Da.subscribe(async x=>{if(x){try{const[y,h,R]=await Promise.all([Ia({limit:6,offset:0}),Pa({limit:5}),La({limit:5})]);P(j,y.items),P(Q,h.items),P(U,R.items)}catch(y){console.error(y)}finally{P(W,!1)}v()}});return v});function oa(v){const x=new Date,y=new Date(v),h=Math.floor((x.getTime()-y.getTime())/1e3/60);return h<60?`${h}분 전`:h<1440?`${Math.floor(h/60)}시간 전`:`${Math.floor(h/1440)}일 전`}function X(v){return v.headline||v.issueTitle}function ua(v){return v.card.headline||v.card.issueTitle}Ta();var Y=ta(),ca=va(Y);{var pa=v=>{var x=za();l(v,x)},da=v=>{var x=Na(),y=t(e(x),2),h=e(y),R=e(h);let Z;var q=t(R,2);let aa;var ga=t(q,2);s(h);var sa=t(h,2),ha=e(sa);{var _a=b=>{var _=Ga();N(_,5,()=>a(Q).slice(0,3),O,(T,n,w)=>{var m=Ba(),r=e(m);H(r,1,"rank-num svelte-1uha8ag",null,{},{top:w<3}),r.textContent=w+1;var c=t(r,2),f=e(c),$=e(f,!0);s(f);var z=t(f,2);{var I=i=>{var p=Aa(),A=e(p,!0);s(p),k(()=>o(A,a(n).signalSummary)),l(i,p)};C(z,i=>{a(n).signalSummary&&i(I)})}s(c);var M=t(c,2),S=t(e(M));s(M),s(m),k(i=>{G(m,"href",`${V??""}/cards/${a(n).issueId??""}`),o($,i),o(S,` ${a(n).articleCount??""}`)},[()=>X(a(n))]),l(T,m)}),s(_),l(b,_)},ma=b=>{var _=ja();N(_,5,()=>a(U).slice(0,3),O,(T,n,w)=>{var m=Ha(),r=e(m);H(r,1,"rank-num svelte-1uha8ag",null,{},{top:w<3}),r.textContent=w+1;var c=t(r,2),f=e(c),$=e(f,!0);s(f);var z=t(f,2);{var I=i=>{var p=Va(),A=e(p,!0);s(p),k(()=>o(A,a(n).card.signalSummary)),l(i,p)};C(z,i=>{a(n).card.signalSummary&&i(I)})}s(c);var M=t(c,2),S=t(e(M));s(M),s(m),k((i,p)=>{G(m,"href",`${V??""}/cards/${a(n).card.issueId??""}`),o($,i),o(S,` ${p??""}`)},[()=>ua(a(n)),()=>la(a(n).viewCount)]),l(T,m)}),s(_),l(b,_)};C(ha,b=>{a(L)==="trend"?b(_a):b(ma,!1)})}s(sa),s(y);var fa=t(y,2);{var ba=b=>{var _=Ka(),T=e(_),n=t(e(T),2);s(T);var w=t(T,2);N(w,5,()=>a(j),O,(m,r)=>{var c=Ja(),f=e(c),$=e(f),z=e($,!0);s($);var I=t($,2),M=e(I,!0);s(I),s(f);var S=t(f,2),i=e(S,!0);s(S);var p=t(S,2);{var A=d=>{var g=qa(),D=e(g,!0);s(g),k(()=>o(D,a(r).signalSummary)),l(d,g)},ka=d=>{var g=ta(),D=va(g);{var F=J=>{var K=Ea(),Ca=e(K,!0);s(K),k(()=>o(Ca,a(r).conclusion)),l(J,K)};C(D,J=>{a(r).conclusion&&J(F)},!0)}l(d,g)};C(p,d=>{a(r).signalSummary?d(A):d(ka,!1)})}var ea=t(p,2),E=e(ea),xa=e(E);s(E);var ya=t(E,2);{var wa=d=>{var g=Fa(),D=e(g);s(g),k(F=>o(D,`${F??""} 조회`),[()=>la(a(r).viewCount)]),l(d,g)};C(ya,d=>{a(r).viewCount&&d(wa)})}s(ea),s(c),k((d,g,D)=>{G(c,"href",`${V??""}/cards/${a(r).issueId??""}`),o(z,d),o(M,g),o(i,D),o(xa,`${a(r).articleCount??""}개 기사`)},[()=>Ra(a(r).issueGroup),()=>oa(a(r).issueLastPublishedAt),()=>X(a(r))]),l(m,c)}),s(w),s(_),k(()=>G(n,"href",`${V??""}/today`)),l(b,_)};C(fa,b=>{a(j).length>0&&b(ba)})}s(x),k(()=>{Z=H(R,1,"tab-btn svelte-1uha8ag",null,Z,{active:a(L)==="trend"}),aa=H(q,1,"tab-btn svelte-1uha8ag",null,aa,{active:a(L)==="popular"}),G(ga,"href",`${V??""}/trending`)}),ra("click",R,()=>P(L,"trend")),ra("click",q,()=>P(L,"popular")),l(v,x)};C(ca,v=>{a(W)?v(pa):v(da,!1)})}l(na,Y),Sa()}export{es as component};
