import{f as i,a as s,c as z,s as h,e as O}from"../chunks/DeXMNu7C.js";import{i as ra}from"../chunks/one-rmOF.js";import{N as ca,O as la,Q as va,R as y,w as D,T as m,U as r,d as e,V as t,P as L,W as g}from"../chunks/_mKCt0Dg.js";import{i as b}from"../chunks/n77eKvsn.js";import{e as oa,i as ia}from"../chunks/CfL7-1lS.js";import{k as na,s as P,r as ua}from"../chunks/25gMEqND.js";import{b as Q}from"../chunks/kn-GG7-K.js";import"../chunks/BOSQD-Pb.js";import{g as pa}from"../chunks/D1mA3LF1.js";var da=i('<div class="loading svelte-18cncau"><div class="spinner svelte-18cncau"></div></div>'),ma=i('<div class="error svelte-18cncau"><p> </p> <button class="svelte-18cncau">다시 시도</button></div>'),fa=i('<div class="empty svelte-18cncau"><p>저장한 브리핑이 없습니다</p> <a class="svelte-18cncau">브리핑 둘러보기</a></div>'),_a=i('<p class="item-signal svelte-18cncau"> </p>'),ha=i('<p class="item-desc svelte-18cncau"> </p>'),ga=i('<div class="item svelte-18cncau"><a class="item-content svelte-18cncau"><span class="item-cat svelte-18cncau"> </span> <h2 class="item-title svelte-18cncau"> </h2> <!></a> <button class="remove-btn svelte-18cncau" aria-label="북마크 삭제"><svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="svelte-18cncau"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg></button></div>'),ba=i('<div class="list svelte-18cncau"></div>'),ka=i('<div class="page svelte-18cncau"><header class="page-header svelte-18cncau"><h1 class="svelte-18cncau">북마크</h1> <p class="svelte-18cncau">저장한 브리핑</p></header> <!></div>');function Ra(U,W){ca(W,!1);let f=D([]),N=D(!0),x=D(null);la(async()=>{try{const a=await na();y(f,a.items)}catch(a){y(x,a?.message??"불러오기 실패")}finally{y(N,!1)}});async function j(a){try{await ua(a),y(f,e(f).filter(c=>c.issueId!==a))}catch(c){console.error("북마크 삭제 실패:",c)}}function q(a){return a.headline||a.issueTitle}ra();var w=ka(),A=m(r(w),2);{var E=a=>{var c=da();s(a,c)},F=a=>{var c=z(),H=L(c);{var J=u=>{var p=ma(),_=r(p),B=r(_,!0);t(_);var M=m(_,2);t(p),g(()=>h(B,e(x))),O("click",M,()=>location.reload()),s(u,p)},K=u=>{var p=z(),_=L(p);{var B=d=>{var n=fa(),T=m(r(n),2);t(n),g(()=>P(T,"href",`${Q??""}/`)),s(d,n)},M=d=>{var n=ba();oa(n,5,()=>e(f),ia,(T,l)=>{var C=ga(),k=r(C),G=r(k),X=r(G,!0);t(G);var I=m(G,2),Y=r(I,!0);t(I);var Z=m(I,2);{var $=v=>{var o=_a(),R=r(o,!0);t(o),g(()=>h(R,e(l).signalSummary)),s(v,o)},aa=v=>{var o=z(),R=L(o);{var sa=S=>{var V=ha(),ta=r(V,!0);t(V),g(()=>h(ta,e(l).conclusion)),s(S,V)};b(R,S=>{e(l).conclusion&&S(sa)},!0)}s(v,o)};b(Z,v=>{e(l).signalSummary?v($):v(aa,!1)})}t(k);var ea=m(k,2);t(C),g((v,o)=>{P(k,"href",`${Q??""}/cards/${e(l).issueId??""}`),h(X,v),h(Y,o)},[()=>pa(e(l).issueGroup),()=>q(e(l))]),O("click",ea,()=>j(e(l).issueId)),s(T,C)}),t(n),s(d,n)};b(_,d=>{e(f).length===0?d(B):d(M,!1)},!0)}s(u,p)};b(H,u=>{e(x)?u(J):u(K,!1)},!0)}s(a,c)};b(A,a=>{e(N)?a(E):a(F,!1)})}t(w),s(U,w),va()}export{Ra as component};
