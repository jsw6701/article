import{f as o,a as i,c as j,s as u,e as na}from"../chunks/B-OvIa1U.js";import{i as oa}from"../chunks/CdXFSiSg.js";import{a4 as la,a5 as ua,a7 as ma,s as q,o as z,a8 as d,a9 as t,a,aa as s,a6 as B,ab as x}from"../chunks/C_qc7GMT.js";import{i as w}from"../chunks/7qhV2vbv.js";import{e as ca,i as pa}from"../chunks/voZxLLH9.js";import{i as da,t as fa,s as ga}from"../chunks/D2PtFGOZ.js";import{b as _a}from"../chunks/rYzDofXa.js";import{g as wa,f as ha}from"../chunks/CWF1PM-K.js";var ba=o('<div class="loading svelte-1u0ngwm"><div class="spinner svelte-1u0ngwm"></div></div>'),xa=o('<div class="error svelte-1u0ngwm"><p> </p> <button class="svelte-1u0ngwm">다시 시도</button></div>'),ya=o('<div class="empty svelte-1u0ngwm"><p>최근 업데이트가 없습니다</p></div>'),Ca=o('<p class="item-signal svelte-1u0ngwm"> </p>'),Ta=o('<p class="item-desc svelte-1u0ngwm"> </p>'),Ma=o('<span class="item-views svelte-1u0ngwm"> </span>'),Da=o('<a class="item svelte-1u0ngwm"><div class="item-header svelte-1u0ngwm"><span class="item-cat svelte-1u0ngwm"> </span> <span class="item-time svelte-1u0ngwm"> </span></div> <h2 class="item-title svelte-1u0ngwm"> </h2> <!> <div class="item-footer svelte-1u0ngwm"><span> </span> <!></div></a>'),La=o('<div class="list svelte-1u0ngwm"></div>'),ka=o('<div class="page svelte-1u0ngwm"><header class="page-header svelte-1u0ngwm"><h1 class="svelte-1u0ngwm">피드</h1> <p class="svelte-1u0ngwm">최근 7일간 업데이트</p></header> <!></div>');function za(K,N){la(N,!1);let C=z([]),E=z(!0),T=z(null);ua(()=>{const e=da.subscribe(async l=>{if(l){try{const m=await fa(20);q(C,m.items)}catch(m){q(T,m?.message??"불러오기 실패")}finally{q(E,!1)}e()}});return e});function O(e){const l=new Date,m=new Date(e),c=Math.floor((l.getTime()-m.getTime())/1e3/60);return c<60?`${c}분 전`:c<1440?`${Math.floor(c/60)}시간 전`:`${Math.floor(c/1440)}일 전`}function Q(e){return e.headline||e.issueTitle}oa();var M=ka(),R=d(t(M),2);{var U=e=>{var l=ba();i(e,l)},W=e=>{var l=j(),m=B(l);{var c=f=>{var g=xa(),h=t(g),D=t(h,!0);s(h);var L=d(h,2);s(g),x(()=>u(D,a(T))),na("click",L,()=>location.reload()),i(f,g)},X=f=>{var g=j(),h=B(g);{var D=_=>{var b=ya();i(_,b)},L=_=>{var b=La();ca(b,5,()=>a(C),pa,(Y,n)=>{var y=Da(),k=t(y),A=t(k),Z=t(A,!0);s(A);var F=d(A,2),$=t(F,!0);s(F),s(k);var G=d(k,2),aa=t(G,!0);s(G);var H=d(G,2);{var ea=r=>{var v=Ca(),p=t(v,!0);s(v),x(()=>u(p,a(n).signalSummary)),i(r,v)},sa=r=>{var v=j(),p=B(v);{var S=P=>{var V=Ta(),ia=t(V,!0);s(V),x(()=>u(ia,a(n).conclusion)),i(P,V)};w(p,P=>{a(n).conclusion&&P(S)},!0)}i(r,v)};w(H,r=>{a(n).signalSummary?r(ea):r(sa,!1)})}var J=d(H,2),I=t(J),ta=t(I);s(I);var ra=d(I,2);{var va=r=>{var v=Ma(),p=t(v);s(v),x(S=>u(p,`${S??""} 조회`),[()=>ha(a(n).viewCount)]),i(r,v)};w(ra,r=>{a(n).viewCount&&r(va)})}s(J),s(y),x((r,v,p)=>{ga(y,"href",`${_a??""}/cards/${a(n).issueId??""}`),u(Z,r),u($,v),u(aa,p),u(ta,`${a(n).articleCount??""}개 기사`)},[()=>wa(a(n).issueGroup),()=>O(a(n).issueLastPublishedAt),()=>Q(a(n))]),i(Y,y)}),s(b),i(_,b)};w(h,_=>{a(C).length===0?_(D):_(L,!1)},!0)}i(f,g)};w(m,f=>{a(T)?f(c):f(X,!1)},!0)}i(e,l)};w(R,e=>{a(E)?e(U):e(W,!1)})}s(M),i(K,M),ma()}export{za as component};
