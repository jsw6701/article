import{f as o,a as i,c as K,s as u,e as na}from"../chunks/JBNUid9-.js";import{i as oa}from"../chunks/D--sC15e.js";import{K as la,L as ua,N as ma,O as N,q as O,P as d,Q as t,d as a,R as s,M as Q,S as x}from"../chunks/DExS8c7-.js";import{i as w}from"../chunks/CziFgNj8.js";import{e as ca,i as pa}from"../chunks/CUorJNVT.js";import{i as da,t as fa,s as ga}from"../chunks/D4c94o38.js";import{b as _a}from"../chunks/B0N0VACA.js";import{g as wa,f as ha}from"../chunks/CWF1PM-K.js";var ba=o('<div class="loading svelte-1u0ngwm"><div class="spinner svelte-1u0ngwm"></div></div>'),xa=o('<div class="error svelte-1u0ngwm"><p> </p> <button class="svelte-1u0ngwm">다시 시도</button></div>'),ya=o('<div class="empty svelte-1u0ngwm"><p>최근 업데이트가 없습니다</p></div>'),Ca=o('<p class="item-signal svelte-1u0ngwm"> </p>'),Ma=o('<p class="item-desc svelte-1u0ngwm"> </p>'),Ta=o('<span class="item-views svelte-1u0ngwm"> </span>'),La=o('<a class="item svelte-1u0ngwm"><div class="item-header svelte-1u0ngwm"><span class="item-cat svelte-1u0ngwm"> </span> <span class="item-time svelte-1u0ngwm"> </span></div> <h2 class="item-title svelte-1u0ngwm"> </h2> <!> <div class="item-footer svelte-1u0ngwm"><span> </span> <!></div></a>'),Da=o('<div class="list svelte-1u0ngwm"></div>'),Sa=o('<div class="page svelte-1u0ngwm"><header class="page-header svelte-1u0ngwm"><h1 class="svelte-1u0ngwm">피드</h1> <p class="svelte-1u0ngwm">최근 7일간 업데이트</p></header> <!></div>');function Oa(B,E){la(E,!1);let C=O([]),R=O(!0),M=O(null);ua(()=>{const e=da.subscribe(async l=>{if(l){try{const m=await fa(20);N(C,m.items)}catch(m){N(M,m?.message??"불러오기 실패")}finally{N(R,!1)}e()}});return e});function F(e){const l=new Date,m=new Date(e),c=Math.floor((l.getTime()-m.getTime())/1e3/60);return c<60?`${c}분 전`:c<1440?`${Math.floor(c/60)}시간 전`:`${Math.floor(c/1440)}일 전`}function H(e){return e.headline||e.issueTitle}oa();var T=Sa(),J=d(t(T),2);{var U=e=>{var l=ba();i(e,l)},W=e=>{var l=K(),m=Q(l);{var c=f=>{var g=xa(),h=t(g),L=t(h,!0);s(h);var D=d(h,2);s(g),x(()=>u(L,a(M))),na("click",D,()=>location.reload()),i(f,g)},X=f=>{var g=K(),h=Q(g);{var L=_=>{var b=ya();i(_,b)},D=_=>{var b=Da();ca(b,5,()=>a(C),pa,(Y,n)=>{var y=La(),S=t(y),k=t(S),Z=t(k,!0);s(k);var V=d(k,2),$=t(V,!0);s(V),s(S);var A=d(S,2),aa=t(A,!0);s(A);var j=d(A,2);{var ea=r=>{var v=Ca(),p=t(v,!0);s(v),x(()=>u(p,a(n).signalSummary)),i(r,v)},sa=r=>{var v=K(),p=Q(v);{var I=P=>{var q=Ma(),ia=t(q,!0);s(q),x(()=>u(ia,a(n).conclusion)),i(P,q)};w(p,P=>{a(n).conclusion&&P(I)},!0)}i(r,v)};w(j,r=>{a(n).signalSummary?r(ea):r(sa,!1)})}var z=d(j,2),G=t(z),ta=t(G);s(G);var ra=d(G,2);{var va=r=>{var v=Ta(),p=t(v);s(v),x(I=>u(p,`${I??""} 조회`),[()=>ha(a(n).viewCount)]),i(r,v)};w(ra,r=>{a(n).viewCount&&r(va)})}s(z),s(y),x((r,v,p)=>{ga(y,"href",`${_a??""}/cards/${a(n).issueId??""}`),u(Z,r),u($,v),u(aa,p),u(ta,`${a(n).articleCount??""}개 기사`)},[()=>wa(a(n).issueGroup),()=>F(a(n).issueLastPublishedAt),()=>H(a(n))]),i(Y,y)}),s(b),i(_,b)};w(h,_=>{a(C).length===0?_(L):_(D,!1)},!0)}i(f,g)};w(m,f=>{a(M)?f(c):f(X,!1)},!0)}i(e,l)};w(J,e=>{a(R)?e(U):e(W,!1)})}s(T),i(B,T),ma()}export{Oa as component};
