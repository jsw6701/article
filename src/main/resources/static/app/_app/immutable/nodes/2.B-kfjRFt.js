import{c as oa,a as p,f as g,s as v,e as j}from"../chunks/CS2dibgQ.js";import{i as D}from"../chunks/Bt_TkTeL.js";import{a2 as H,a3 as J,a4 as N,s as i,o as _,a,a8 as o,a5 as r,a6 as t,a7 as $}from"../chunks/DyPSrcml.js";import{i as k}from"../chunks/BZsm3KgI.js";import{e as q,i as z}from"../chunks/DlrElwY4.js";import{t as ia,s as Q,f as va}from"../chunks/DjyczLpt.js";import{s as X}from"../chunks/CpR1DMe9.js";import{b as V}from"../chunks/3vd1_UXx.js";import{o as na}from"../chunks/ltY9GsxM.js";import{g as W,f as Z}from"../chunks/DngV_EnA.js";var ua=g('<a><div class="brief-bar svelte-1md7eet"></div> <div class="brief-content svelte-1md7eet"><div class="brief-label svelte-1md7eet">오늘의 브리핑</div> <p class="brief-headline svelte-1md7eet"> </p> <div class="brief-meta svelte-1md7eet"><span class="brief-tag svelte-1md7eet"> </span> <span class="brief-time svelte-1md7eet"> </span></div></div></a>');function ca(I,M){H(M,!1);let n=_(null),h=_(!0);na(async()=>{try{const c=await ia(1);i(n,c.items[0]??null)}finally{i(h,!1)}}),D();var f=oa(),m=J(f);{var x=c=>{var u=ua(),C=o(r(u),2),b=o(r(C),2),O=r(b,!0);t(b);var T=o(b,2),y=r(T),A=r(y,!0);t(y);var G=o(y,2),F=r(G,!0);t(G),t(T),t(C),t(u),$((L,P,S)=>{X(u,1,L,"svelte-1md7eet"),Q(u,"href",`${V}/cards/${a(n).issueId}`),v(O,a(n).conclusion),v(A,P),v(F,S)},[()=>`today-brief group-${a(n).issueGroup.toLowerCase()}`,()=>W(a(n).issueGroup),()=>Z(a(n).cardUpdatedAt)]),p(c,u)};k(m,c=>{!a(h)&&a(n)&&c(x)})}p(I,f),N()}var da=g("<button> </button>"),pa=g('<p class="error svelte-1uha8ag"> </p>'),fa=g('<span class="card-stats svelte-1uha8ag"> </span>'),ma=g('<a><div class="card-meta svelte-1uha8ag"><span class="card-tag svelte-1uha8ag"> </span> <span class="card-time svelte-1uha8ag"> </span> <!></div> <h3 class="card-title svelte-1uha8ag"> </h3> <p class="card-desc svelte-1uha8ag"> </p></a>'),ba=g('<div class="load-more svelte-1uha8ag"><button class="load-btn svelte-1uha8ag"> </button></div>'),_a=g('<!> <section class="filter svelte-1uha8ag"></section> <!> <section class="list svelte-1uha8ag"></section> <!>',1);function wa(I,M){H(M,!1);const n=[{label:"전체",value:void 0},{label:"금리",value:"RATE"},{label:"환율",value:"FX"},{label:"주식",value:"STOCK"},{label:"부동산",value:"REALESTATE"},{label:"거시경제",value:"MACRO"},{label:"정책",value:"POLICY"}];let h=_(void 0),f=_([]),m=_(!1),x=_(null),c=20,u=0,C=_(!0);async function b(l=!1){if(!a(m)){i(m,!0),i(x,null);try{l&&(i(f,[]),u=0,i(C,!0));const e=await va({group:a(h),limit:c,offset:u});i(f,[...a(f),...e.items]),u+=e.items.length,i(C,e.items.length===c)}catch(e){i(x,e?.message??"Failed to load")}finally{i(m,!1)}}}b(!0);function O(l){i(h,l),b(!0)}D();var T=_a(),y=J(T);ca(y,{});var A=o(y,2);q(A,5,()=>n,z,(l,e)=>{var s=da();let d;var w=r(s,!0);t(s),$(()=>{d=X(s,1,"filter-chip svelte-1uha8ag",null,d,{active:a(e).value===a(h)}),v(w,a(e).label)}),j("click",s,()=>O(a(e).value)),p(l,s)}),t(A);var G=o(A,2);{var F=l=>{var e=pa(),s=r(e,!0);t(e),$(()=>v(s,a(x))),p(l,e)};k(G,l=>{a(x)&&l(F)})}var L=o(G,2);q(L,5,()=>a(f),z,(l,e)=>{var s=ma(),d=r(s),w=r(d),aa=r(w,!0);t(w);var B=o(w,2),ea=r(B,!0);t(B);var ta=o(B,2);{var sa=E=>{var R=fa(),U=r(R);t(R),$(()=>v(U,`기사 ${a(e).articleCount??""}건 · ${a(e).publisherCount??""}개 언론사`)),p(E,R)};k(ta,E=>{a(e).articleCount>0&&E(sa)})}t(d);var K=o(d,2),ra=r(K,!0);t(K);var Y=o(K,2),la=r(Y,!0);t(Y),t(s),$((E,R,U)=>{X(s,1,E,"svelte-1uha8ag"),Q(s,"href",`${V}/cards/${a(e).issueId}`),v(aa,R),v(ea,U),v(ra,a(e).issueTitle),v(la,a(e).conclusion??"내용을 불러오는 중...")},[()=>`card group-${a(e).issueGroup.toLowerCase()}`,()=>W(a(e).issueGroup),()=>Z(a(e).issueLastPublishedAt)]),p(l,s)}),t(L);var P=o(L,2);{var S=l=>{var e=ba(),s=r(e),d=r(s,!0);t(s),t(e),$(()=>{s.disabled=a(m),v(d,a(m)?"불러오는 중...":"더 보기")}),j("click",s,()=>b(!1)),p(l,e)};k(P,l=>{a(C)&&l(S)})}p(I,T),N()}export{wa as component};
