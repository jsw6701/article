import{c as ta,a as l,f as u,e as ra,s as o}from"../chunks/JBNUid9-.js";import{i as Ta}from"../chunks/D--sC15e.js";import{K as $a,L as Ma,M as va,N as Sa,O as I,q as B,d as a,P as t,Q as e,R as s,S as k}from"../chunks/DExS8c7-.js";import{i as C}from"../chunks/CziFgNj8.js";import{e as E,i as F}from"../chunks/CUorJNVT.js";import{i as Pa,l as Da,g as Ia,a as La,s as G}from"../chunks/D4c94o38.js";import{s as q}from"../chunks/D4DO-hTu.js";import{b as V}from"../chunks/B0N0VACA.js";import{f as la,g as Ra}from"../chunks/CWF1PM-K.js";var za=u('<div class="loading svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div></div>'),Aa=u('<span class="rank-sub svelte-1uha8ag"> </span>'),Ba=u('<a class="rank-item svelte-1uha8ag"><span></span> <div class="rank-content svelte-1uha8ag"><span class="rank-title svelte-1uha8ag"> </span> <!></div> <span class="rank-badge svelte-1uha8ag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1uha8ag"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> </span></a>'),Ga=u('<div class="rank-list svelte-1uha8ag"></div>'),Va=u('<span class="rank-sub svelte-1uha8ag"> </span>'),qa=u('<a class="rank-item svelte-1uha8ag"><span></span> <div class="rank-content svelte-1uha8ag"><span class="rank-title svelte-1uha8ag"> </span> <!></div> <span class="rank-badge svelte-1uha8ag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1uha8ag"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </span></a>'),Ha=u('<div class="rank-list svelte-1uha8ag"></div>'),Ka=u('<p class="card-summary svelte-1uha8ag"> </p>'),Na=u('<p class="card-desc svelte-1uha8ag"> </p>'),Oa=u('<span class="card-views svelte-1uha8ag"> </span>'),Qa=u('<a class="card svelte-1uha8ag"><div class="card-top svelte-1uha8ag"><span class="card-cat svelte-1uha8ag"> </span> <span class="card-time svelte-1uha8ag"> </span></div> <h3 class="card-title svelte-1uha8ag"> </h3> <!> <div class="card-bottom svelte-1uha8ag"><span class="card-articles svelte-1uha8ag"> </span> <!></div></a>'),ja=u('<section class="section svelte-1uha8ag"><div class="section-head svelte-1uha8ag"><h2 class="svelte-1uha8ag">최신 브리핑</h2> <a class="svelte-1uha8ag">더보기</a></div> <div class="card-list svelte-1uha8ag"></div></section>'),Ea=u('<div class="home svelte-1uha8ag"><div class="greeting svelte-1uha8ag"><p class="greeting-sub svelte-1uha8ag">오늘의 경제</p> <h1 class="greeting-main svelte-1uha8ag">브리핑</h1></div> <section class="section svelte-1uha8ag"><div class="tab-header svelte-1uha8ag"><button>화제</button> <button>조회수</button> <a class="tab-more svelte-1uha8ag">더보기</a></div> <div class="tab-content"><!></div></section> <!></div>');function es(na,ia){$a(ia,!1);let H=B([]),J=B([]),U=B([]),W=B(!0),L=B("trend");Ma(()=>{const v=Pa.subscribe(async x=>{if(x){try{const[y,h,R]=await Promise.all([Da({limit:6,offset:0}),Ia({limit:5}),La({limit:5})]);I(H,y.items),I(J,h.items),I(U,R.items)}catch(y){console.error(y)}finally{I(W,!1)}v()}});return v});function oa(v){const x=new Date,y=new Date(v),h=Math.floor((x.getTime()-y.getTime())/1e3/60);return h<60?`${h}분 전`:h<1440?`${Math.floor(h/60)}시간 전`:`${Math.floor(h/1440)}일 전`}function X(v){return v.headline||v.issueTitle}function ua(v){return v.card.headline||v.card.issueTitle}Ta();var Y=ta(),ca=va(Y);{var da=v=>{var x=za();l(v,x)},pa=v=>{var x=Ea(),y=t(e(x),2),h=e(y),R=e(h);let Z;var K=t(R,2);let aa;var ga=t(K,2);s(h);var sa=t(h,2),ha=e(sa);{var _a=b=>{var _=Ga();E(_,5,()=>a(J).slice(0,3),F,(T,n,w)=>{var m=Ba(),r=e(m);q(r,1,"rank-num svelte-1uha8ag",null,{},{top:w<3}),r.textContent=w+1;var c=t(r,2),f=e(c),$=e(f,!0);s(f);var z=t(f,2);{var D=i=>{var d=Aa(),A=e(d,!0);s(d),k(()=>o(A,a(n).signalSummary)),l(i,d)};C(z,i=>{a(n).signalSummary&&i(D)})}s(c);var M=t(c,2),S=t(e(M));s(M),s(m),k(i=>{G(m,"href",`${V??""}/cards/${a(n).issueId??""}`),o($,i),o(S,` ${a(n).articleCount??""}`)},[()=>X(a(n))]),l(T,m)}),s(_),l(b,_)},ma=b=>{var _=Ha();E(_,5,()=>a(U).slice(0,3),F,(T,n,w)=>{var m=qa(),r=e(m);q(r,1,"rank-num svelte-1uha8ag",null,{},{top:w<3}),r.textContent=w+1;var c=t(r,2),f=e(c),$=e(f,!0);s(f);var z=t(f,2);{var D=i=>{var d=Va(),A=e(d,!0);s(d),k(()=>o(A,a(n).card.signalSummary)),l(i,d)};C(z,i=>{a(n).card.signalSummary&&i(D)})}s(c);var M=t(c,2),S=t(e(M));s(M),s(m),k((i,d)=>{G(m,"href",`${V??""}/cards/${a(n).card.issueId??""}`),o($,i),o(S,` ${d??""}`)},[()=>ua(a(n)),()=>la(a(n).viewCount)]),l(T,m)}),s(_),l(b,_)};C(ha,b=>{a(L)==="trend"?b(_a):b(ma,!1)})}s(sa),s(y);var fa=t(y,2);{var ba=b=>{var _=ja(),T=e(_),n=t(e(T),2);s(T);var w=t(T,2);E(w,5,()=>a(H),F,(m,r)=>{var c=Qa(),f=e(c),$=e(f),z=e($,!0);s($);var D=t($,2),M=e(D,!0);s(D),s(f);var S=t(f,2),i=e(S,!0);s(S);var d=t(S,2);{var A=p=>{var g=Ka(),P=e(g,!0);s(g),k(()=>o(P,a(r).signalSummary)),l(p,g)},ka=p=>{var g=ta(),P=va(g);{var O=Q=>{var j=Na(),Ca=e(j,!0);s(j),k(()=>o(Ca,a(r).conclusion)),l(Q,j)};C(P,Q=>{a(r).conclusion&&Q(O)},!0)}l(p,g)};C(d,p=>{a(r).signalSummary?p(A):p(ka,!1)})}var ea=t(d,2),N=e(ea),xa=e(N);s(N);var ya=t(N,2);{var wa=p=>{var g=Oa(),P=e(g);s(g),k(O=>o(P,`${O??""} 조회`),[()=>la(a(r).viewCount)]),l(p,g)};C(ya,p=>{a(r).viewCount&&p(wa)})}s(ea),s(c),k((p,g,P)=>{G(c,"href",`${V??""}/cards/${a(r).issueId??""}`),o(z,p),o(M,g),o(i,P),o(xa,`${a(r).articleCount??""}개 기사`)},[()=>Ra(a(r).issueGroup),()=>oa(a(r).issueLastPublishedAt),()=>X(a(r))]),l(m,c)}),s(w),s(_),k(()=>G(n,"href",`${V??""}/today`)),l(b,_)};C(fa,b=>{a(H).length>0&&b(ba)})}s(x),k(()=>{Z=q(R,1,"tab-btn svelte-1uha8ag",null,Z,{active:a(L)==="trend"}),aa=q(K,1,"tab-btn svelte-1uha8ag",null,aa,{active:a(L)==="popular"}),G(ga,"href",`${V??""}/trending`)}),ra("click",R,()=>I(L,"trend")),ra("click",K,()=>I(L,"popular")),l(v,x)};C(ca,v=>{a(W)?v(da):v(pa,!1)})}l(na,Y),Sa()}export{es as component};
