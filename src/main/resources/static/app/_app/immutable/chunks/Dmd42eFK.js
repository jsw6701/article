import{w as d,ag as l,ah as p,a0 as m,ai as g,aj as y,ak as _}from"./PIemEuav.js";const k=Symbol("is custom element"),S=Symbol("is html");function $(t){if(d){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var a=t.value;c(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var r=t.checked;c(t,"checked",null),t.checked=r}}};t.__on_r=n,m(n),g()}}function c(t,e,n,a){var r=T(t);d&&(r[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||r[e]!==(r[e]=n)&&(e==="loading"&&(t[y]=n),n==null?t.removeAttribute(e):typeof n!="string"&&v(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function T(t){return t.__attributes??={[k]:t.nodeName.includes("-"),[S]:t.namespaceURI===l}}var f=new Map;function v(t){var e=t.getAttribute("is")||t.nodeName,n=f.get(e);if(n)return n;f.set(e,n=[]);for(var a,r=t,s=Element.prototype;s!==r;){a=_(r);for(var u in a)a[u].set&&n.push(u);r=p(r)}return n}const E="",h="auth_user";function w(){if(typeof window>"u")return null;const t=localStorage.getItem(h);if(!t)return null;try{return JSON.parse(t)?.accessToken??null}catch{return null}}function O(){typeof window<"u"&&(localStorage.removeItem(h),window.dispatchEvent(new CustomEvent("auth:expired")))}function i(t){const e=new URLSearchParams;Object.entries(t).forEach(([a,r])=>{r==null||r===""||e.set(a,String(r))});const n=e.toString();return n?`?${n}`:""}async function o(t,e,n=!1){const a={...e?.headers??{}};if(n){const s=w();s&&(a.Authorization=`Bearer ${s}`)}const r=await fetch(`${E}${t}`,{...e,headers:a});if(r.status===401&&n)throw O(),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");if(!r.ok){const s=await r.text().catch(()=>"");throw new Error(`API ${r.status} ${r.statusText}: ${s}`)}return await r.json()}function C(t){return o(`/api/cards${i({group:t.group,status:t.status??"ACTIVE",from:t.from,to:t.to,limit:t.limit,offset:t.offset})}`,void 0,!0)}function N(t){return o(`/api/cards/${t}`,void 0,!0)}function b(t=7){return o(`/api/cards/today${i({limit:t})}`,void 0,!0)}function P(t={}){return o(`/api/trending${i({hours:t.hours??3,limit:t.limit??10})}`,void 0,!0)}function j(t={}){return o(`/api/trending/popular${i({limit:t.limit??10})}`,void 0,!0)}function I(t){return o("/api/auth/email/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function L(t){return o("/api/auth/email/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function M(t){return o("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function B(t){return o("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function J(t){return o(`/api/auth/check-username${i({username:t})}`)}function U(t){return o("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})})}function x(t){return o("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})}function R(t){return o(`/api/bookmarks/${t}`,{method:"POST"},!0)}function H(t){return o(`/api/bookmarks/${t}`,{method:"DELETE"},!0)}function D(t){return o(`/api/bookmarks/${t}/status`,void 0,!0)}function G(){return o("/api/bookmarks",void 0,!0)}export{B as a,C as b,j as c,G as d,H as e,$ as f,P as g,N as h,D as i,R as j,J as k,x as l,I as m,M as n,U as r,c as s,b as t,L as v};
