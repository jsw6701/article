import{au as _,av as E,u as S,r as k,h as b,T as n,aw as w,ax as C,a9 as D,q as m}from"./V-LZvqf2.js";function g(e,c,a=c){var f=new WeakSet;_(e,"input",async l=>{var d=l?e.defaultValue:e.value;if(d=h(e)?i(d):d,a(d),n!==null&&f.add(n),await E(),d!==(d=c())){var v=e.selectionStart,o=e.selectionEnd,t=e.value.length;if(e.value=d??"",o!==null){var r=e.value.length;v===o&&o===t&&r>t?(e.selectionStart=r,e.selectionEnd=r):(e.selectionStart=v,e.selectionEnd=Math.min(o,r))}}}),(b&&e.defaultValue!==e.value||S(c)==null&&e.value)&&(a(h(e)?i(e.value):e.value),n!==null&&f.add(n)),k(()=>{var l=c();if(e===document.activeElement){var d=w??n;if(f.has(d))return}h(e)&&l===i(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const u=new Set;function q(e,c,a,f,l=f){var d=a.getAttribute("type")==="checkbox",v=e;let o=!1;if(c!==null)for(var t of c)v=v[t]??=[];v.push(a),_(a,"change",()=>{var r=a.__value;d&&(r=y(v,r,a.checked)),l(r)},()=>l(d?[]:null)),k(()=>{var r=f();if(b&&a.defaultChecked!==a.checked){o=!0;return}d?(r=r||[],a.checked=r.includes(a.__value)):a.checked=C(a.__value,r)}),D(()=>{var r=v.indexOf(a);r!==-1&&v.splice(r,1)}),u.has(v)||(u.add(v),m(()=>{v.sort((r,s)=>r.compareDocumentPosition(s)===4?-1:1),u.delete(v)})),m(()=>{if(o){var r;if(d)r=y(v,r,a.checked);else{var s=v.find(x=>x.checked);r=s?.__value}l(r)}})}function A(e,c,a=c){_(e,"change",f=>{var l=f?e.defaultChecked:e.checked;a(l)}),(b&&e.defaultChecked!==e.checked||S(c)==null)&&a(e.checked),k(()=>{var f=c();e.checked=!!f})}function y(e,c,a){for(var f=new Set,l=0;l<e.length;l+=1)e[l].checked&&f.add(e[l].__value);return a||f.delete(c),Array.from(f)}function h(e){var c=e.type;return c==="number"||c==="range"}function i(e){return e===""?null:+e}function V(e){return function(...c){var a=c[0];return a.stopPropagation(),e?.apply(this,c)}}function B(e){return function(...c){var a=c[0];return a.preventDefault(),e?.apply(this,c)}}export{q as a,g as b,A as c,B as p,V as s};
