import{at as b,au as x,u as E,r as m,h as y,T as o,av as g,aw as w,a9 as D,q as h}from"./TeviCJ82.js";function q(e,l,r=l){var f=new WeakSet;b(e,"input",async c=>{var t=c?e.defaultValue:e.value;if(t=i(e)?_(t):t,r(t),o!==null&&f.add(o),await x(),t!==(t=l())){var v=e.selectionStart,n=e.selectionEnd,s=e.value.length;if(e.value=t??"",n!==null){var a=e.value.length;v===n&&n===s&&a>s?(e.selectionStart=a,e.selectionEnd=a):(e.selectionStart=v,e.selectionEnd=Math.min(n,a))}}}),(y&&e.defaultValue!==e.value||E(l)==null&&e.value)&&(r(i(e)?_(e.value):e.value),o!==null&&f.add(o)),m(()=>{var c=l();if(e===document.activeElement){var t=g??o;if(f.has(t))return}i(e)&&c===_(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const u=new Set;function A(e,l,r,f,c=f){var t=r.getAttribute("type")==="checkbox",v=e;let n=!1;if(l!==null)for(var s of l)v=v[s]??=[];v.push(r),b(r,"change",()=>{var a=r.__value;t&&(a=k(v,a,r.checked)),c(a)},()=>c(t?[]:null)),m(()=>{var a=f();if(y&&r.defaultChecked!==r.checked){n=!0;return}t?(a=a||[],r.checked=a.includes(r.__value)):r.checked=w(r.__value,a)}),D(()=>{var a=v.indexOf(r);a!==-1&&v.splice(a,1)}),u.has(v)||(u.add(v),h(()=>{v.sort((a,d)=>a.compareDocumentPosition(d)===4?-1:1),u.delete(v)})),h(()=>{if(n){var a;if(t)a=k(v,a,r.checked);else{var d=v.find(S=>S.checked);a=d?.__value}c(a)}})}function k(e,l,r){for(var f=new Set,c=0;c<e.length;c+=1)e[c].checked&&f.add(e[c].__value);return r||f.delete(l),Array.from(f)}function i(e){var l=e.type;return l==="number"||l==="range"}function _(e){return e===""?null:+e}function V(e){return function(...l){var r=l[0];return r.stopPropagation(),e?.apply(this,l)}}function C(e){return function(...l){var r=l[0];return r.preventDefault(),e?.apply(this,l)}}export{A as a,q as b,C as p,V as s};
