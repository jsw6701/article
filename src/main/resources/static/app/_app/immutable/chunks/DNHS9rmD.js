import{a9 as k,aa as x,u as E,ab as m,t as w,a0 as h,w as y,I as s,ac as D,ad as g}from"./BCBllwWT.js";function V(e,l,r=l){var t=new WeakSet;k(e,"input",async c=>{var f=c?e.defaultValue:e.value;if(f=_(e)?i(f):f,r(f),s!==null&&t.add(s),await x(),f!==(f=l())){var v=e.selectionStart,d=e.selectionEnd,n=e.value.length;if(e.value=f??"",d!==null){var a=e.value.length;v===d&&d===n&&a>n?(e.selectionStart=a,e.selectionEnd=a):(e.selectionStart=v,e.selectionEnd=Math.min(d,a))}}}),(y&&e.defaultValue!==e.value||E(l)==null&&e.value)&&(r(_(e)?i(e.value):e.value),s!==null&&t.add(s)),m(()=>{var c=l();if(e===document.activeElement){var f=D??s;if(t.has(f))return}_(e)&&c===i(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const u=new Set;function q(e,l,r,t,c=t){var f=r.getAttribute("type")==="checkbox",v=e;let d=!1;if(l!==null)for(var n of l)v=v[n]??=[];v.push(r),k(r,"change",()=>{var a=r.__value;f&&(a=b(v,a,r.checked)),c(a)},()=>c(f?[]:null)),m(()=>{var a=t();if(y&&r.defaultChecked!==r.checked){d=!0;return}f?(a=a||[],r.checked=a.includes(r.__value)):r.checked=g(r.__value,a)}),w(()=>{var a=v.indexOf(r);a!==-1&&v.splice(a,1)}),u.has(v)||(u.add(v),h(()=>{v.sort((a,o)=>a.compareDocumentPosition(o)===4?-1:1),u.delete(v)})),h(()=>{if(d){var a;if(f)a=b(v,a,r.checked);else{var o=v.find(S=>S.checked);a=o?.__value}c(a)}})}function b(e,l,r){for(var t=new Set,c=0;c<e.length;c+=1)e[c].checked&&t.add(e[c].__value);return r||t.delete(l),Array.from(t)}function _(e){var l=e.type;return l==="number"||l==="range"}function i(e){return e===""?null:+e}function C(e){return function(...l){var r=l[0];return r.preventDefault(),e?.apply(this,l)}}export{q as a,V as b,C as p};
