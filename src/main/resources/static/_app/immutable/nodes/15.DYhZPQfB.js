import{f as d,a as o,c as k}from"../chunks/TFX7ugsA.js";import"../chunks/D6SK0GIy.js";import{o as Ga}from"../chunks/DujhYGdh.js";import{p as Ma,t as f,a as Pa,e as Da,c as s,s as v,o as B,Y as F,ar as Ha,b as r,g as a,f as C}from"../chunks/C9SIyTFa.js";import{i as p,e as ca,s as c}from"../chunks/bwNj2O70.js";import{e as fa,i as ga}from"../chunks/DShnAKY6.js";import{h as Ra}from"../chunks/0poByBks.js";import{s as ha}from"../chunks/xoXkTC80.js";import{s as Y}from"../chunks/lJrTxOp0.js";import{i as Va}from"../chunks/CSrNcNRV.js";import{b as za}from"../chunks/DvH0yMmo.js";import{c as Fa,d as Ya}from"../chunks/95k2wcHO.js";import{b as ba,a as ja}from"../chunks/8QpmlEFl.js";import{i as qa}from"../chunks/EHLbj6ui.js";import{L as ya}from"../chunks/FuepL3qI.js";var Aa=d('<div class="loading svelte-1aizo1m"><div class="spinner svelte-1aizo1m"></div></div>'),Ea=d('<div class="message-box svelte-1aizo1m"><p class="svelte-1aizo1m"> </p> <button class="action-btn svelte-1aizo1m">다시 시도</button></div>'),Ja=d('<div class="message-box svelte-1aizo1m"><p class="svelte-1aizo1m">트렌딩 이슈가 없습니다</p></div>'),Ka=d('<p class="card-summary svelte-1aizo1m"> </p>'),Na=d('<p class="card-summary svelte-1aizo1m"> </p>'),Oa=d('<a class="card svelte-1aizo1m"><div class="card-top svelte-1aizo1m"><span></span> <span class="category svelte-1aizo1m"> </span> <!></div> <h2 class="card-title svelte-1aizo1m"> </h2> <!> <div class="card-meta svelte-1aizo1m"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14,2 14,8 20,8"></polyline></svg> <span> </span></div></a>'),Qa=d('<div class="message-box svelte-1aizo1m"><p class="svelte-1aizo1m">인기 이슈가 없습니다</p></div>'),Ua=d('<p class="card-summary svelte-1aizo1m"> </p>'),Wa=d('<p class="card-summary svelte-1aizo1m"> </p>'),Xa=d('<a class="card svelte-1aizo1m"><div class="card-top svelte-1aizo1m"><span></span> <span class="category svelte-1aizo1m"> </span> <!></div> <h2 class="card-title svelte-1aizo1m"> </h2> <!> <div class="card-meta svelte-1aizo1m"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1aizo1m"><circle cx="12" cy="12" r="3"></circle><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path></svg> <span> </span></div></a>'),Za=d('<div class="list svelte-1aizo1m"><!></div>'),$a=d('<div class="page svelte-1aizo1m"><header class="header svelte-1aizo1m"><h1 class="title svelte-1aizo1m">트렌드</h1> <p class="subtitle svelte-1aizo1m"> </p></header> <div class="segment-control svelte-1aizo1m"><button>실시간</button> <button>인기</button></div> <!></div>');function _e(xa,wa){Ma(wa,!1);let j=F([]),q=F([]),da=F(!0),A=F(null),T=F("trend");Ga(()=>{const i=qa.subscribe(async S=>{if(S){try{const[G,O]=await Promise.all([Fa({limit:10}),Ya({limit:10})]);B(j,G.items),B(q,O.items)}catch(G){B(A,G?.message??"불러오기 실패")}finally{B(da,!1)}i()}});return i});function ka(i){return i.headline||i.issueTitle}function Ca(i){return i.card.headline||i.card.issueTitle}Va();var E=$a();Ra("1aizo1m",i=>{Da(()=>{Ha.title="트렌드 - SHIFT"})});var J=s(E),pa=v(s(J),2),Ta=s(pa,!0);r(pa),r(J);var K=v(J,2),N=s(K);let ma;var ua=v(N,2);let _a;r(K);var Sa=v(K,2);{var Ia=i=>{var S=Aa();o(i,S)},La=i=>{var S=k(),G=C(S);{var O=I=>{var g=Ea(),M=s(g),Q=s(M,!0);r(M);var U=v(M,2);r(g),f(()=>c(Q,a(A))),ca("click",U,()=>location.reload()),o(I,g)},Ba=I=>{var g=Za(),M=s(g);{var Q=L=>{var P=k(),W=C(P);{var X=n=>{var m=Ja();o(n,m)},Z=n=>{var m=k(),$=C(m);fa($,1,()=>a(j),ga,(aa,t,D)=>{var u=Oa(),h=s(u),z=s(h);Y(z,1,"rank svelte-1aizo1m",null,{},{top:D<3}),z.textContent=D+1;var b=v(z,2),ea=s(b,!0);r(b);var sa=v(b,2);{var ra=e=>{ya(e,{get lifecycle(){return a(t).lifecycle},showChange:!0})};p(sa,e=>{a(t).lifecycle&&e(ra)})}r(h);var y=v(h,2),ta=s(y,!0);r(y);var H=v(y,2);{var oa=e=>{var l=Ka(),_=s(l,!0);r(l),f(()=>c(_,a(t).signalSummary)),o(e,l)},la=e=>{var l=k(),_=C(l);{var ia=x=>{var w=Na(),na=s(w,!0);r(w),f(()=>c(na,a(t).conclusion)),o(x,w)};p(_,x=>{a(t).conclusion&&x(ia)},!0)}o(e,l)};p(H,e=>{a(t).signalSummary?e(oa):e(la,!1)})}var R=v(H,2),V=v(s(R),2),va=s(V);r(V),r(R),r(u),f((e,l)=>{ha(u,"href",`${za??""}/cards/${a(t).issueId??""}`),c(ea,e),c(ta,l),c(va,`${a(t).articleCount??""}개 기사`)},[()=>ba(a(t).issueGroup),()=>ka(a(t))]),o(aa,u)}),o(n,m)};p(W,n=>{a(j).length===0?n(X):n(Z,!1)})}o(L,P)},U=L=>{var P=k(),W=C(P);{var X=n=>{var m=Qa();o(n,m)},Z=n=>{var m=k(),$=C(m);fa($,1,()=>a(q),ga,(aa,t,D)=>{var u=Xa(),h=s(u),z=s(h);Y(z,1,"rank svelte-1aizo1m",null,{},{top:D<3}),z.textContent=D+1;var b=v(z,2),ea=s(b,!0);r(b);var sa=v(b,2);{var ra=e=>{ya(e,{get lifecycle(){return a(t).card.lifecycle},showChange:!0})};p(sa,e=>{a(t).card.lifecycle&&e(ra)})}r(h);var y=v(h,2),ta=s(y,!0);r(y);var H=v(y,2);{var oa=e=>{var l=Ua(),_=s(l,!0);r(l),f(()=>c(_,a(t).card.signalSummary)),o(e,l)},la=e=>{var l=k(),_=C(l);{var ia=x=>{var w=Wa(),na=s(w,!0);r(w),f(()=>c(na,a(t).card.conclusion)),o(x,w)};p(_,x=>{a(t).card.conclusion&&x(ia)},!0)}o(e,l)};p(H,e=>{a(t).card.signalSummary?e(oa):e(la,!1)})}var R=v(H,2),V=v(s(R),2),va=s(V);r(V),r(R),r(u),f((e,l,_)=>{ha(u,"href",`${za??""}/cards/${a(t).card.issueId??""}`),c(ea,e),c(ta,l),c(va,`${_??""} 조회`)},[()=>ba(a(t).card.issueGroup),()=>Ca(a(t)),()=>ja(a(t).viewCount)]),o(aa,u)}),o(n,m)};p(W,n=>{a(q).length===0?n(X):n(Z,!1)})}o(L,P)};p(M,L=>{a(T)==="trend"?L(Q):L(U,!1)})}r(g),o(I,g)};p(G,I=>{a(A)?I(O):I(Ba,!1)},!0)}o(i,S)};p(Sa,i=>{a(da)?i(Ia):i(La,!1)})}r(E),f(()=>{c(Ta,a(T)==="trend"?"기사가 많이 나온 이슈":"조회수가 높은 이슈"),ma=Y(N,1,"segment svelte-1aizo1m",null,ma,{active:a(T)==="trend"}),_a=Y(ua,1,"segment svelte-1aizo1m",null,_a,{active:a(T)==="popular"})}),ca("click",N,()=>B(T,"trend")),ca("click",ua,()=>B(T,"popular")),o(xa,E),Pa()}export{_e as component};
