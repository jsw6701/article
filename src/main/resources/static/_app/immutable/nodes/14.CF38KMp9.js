import{f as d,a as s,c as H,t as ve}from"../chunks/TFX7ugsA.js";import"../chunks/D6SK0GIy.js";import{c as Ne,o as $e,a as Ke}from"../chunks/DujhYGdh.js";import{p as ue,a as fe,b as n,c as i,t as K,u as ce,g as e,e as Pe,Y as C,ar as Ye,s as m,o,f as $}from"../chunks/C9SIyTFa.js";import{s as b,e as de,i as _}from"../chunks/bwNj2O70.js";import{e as re,i as me}from"../chunks/DShnAKY6.js";import{h as ze}from"../chunks/0poByBks.js";import{s as Xe}from"../chunks/xoXkTC80.js";import{s as ge}from"../chunks/6RZwXm1a.js";import{b as Be}from"../chunks/Cn6oBMcK.js";import{i as pe}from"../chunks/CSrNcNRV.js";import{b as He}from"../chunks/DvH0yMmo.js";import{b as Ue,A as Ve}from"../chunks/95k2wcHO.js";import{b as te,a as We}from"../chunks/8QpmlEFl.js";import{i as je}from"../chunks/EHLbj6ui.js";import{L as qe}from"../chunks/FuepL3qI.js";import{S as Je,N as Qe}from"../chunks/6tNKBOe5.js";import{s as Ze}from"../chunks/lJrTxOp0.js";import{p as ea}from"../chunks/BsetF9sD.js";var aa=d("<button> </button>"),ra=d('<div class="filter-chips svelte-8g2z2l"></div>');function ta(U,B){ue(B,!1);let h=ea(B,"selectedGroup",12,null);const k=Ne(),T=[null,"RATE","FX","STOCK","REALESTATE","MACRO","POLICY"];function P(f){h(f),k("change",f)}function w(f){return f?te(f):"ì „ì²´"}function A(f){return f?{RATE:"var(--g-rate)",FX:"var(--g-fx)",STOCK:"var(--g-stock)",REALESTATE:"var(--g-realestate)",MACRO:"var(--g-macro)",POLICY:"var(--g-policy)"}[f]:"var(--accent)"}pe();var L=ra();re(L,5,()=>T,me,(f,v)=>{var g=aa();let E;var M=i(g,!0);n(g),K((V,W)=>{E=Ze(g,1,"chip svelte-8g2z2l",null,E,{active:h()===e(v)}),ge(g,`--chip-color: ${V??""}`),b(M,W)},[()=>(e(v),ce(()=>A(e(v)))),()=>(e(v),ce(()=>w(e(v))))]),de("click",g,()=>P(e(v))),s(f,g)}),n(L),s(U,L),fe()}var sa=d('<div class="cards svelte-1u0ngwm"></div>'),na=d('<button class="action-btn svelte-1u0ngwm">ì „ì²´ ë³´ê¸°</button>'),oa=d('<div class="message-box svelte-1u0ngwm"><div class="empty-icon svelte-1u0ngwm">ğŸ“­</div> <p class="svelte-1u0ngwm"><!></p> <!></div>'),la=d('<p class="card-highlight svelte-1u0ngwm"> </p>'),ia=d('<p class="card-desc svelte-1u0ngwm"> </p>'),va=d("<span>Â·</span> <span> </span>",1),ca=d('<a class="card svelte-1u0ngwm"><div class="card-header svelte-1u0ngwm"><div class="card-meta svelte-1u0ngwm"><span class="card-category svelte-1u0ngwm"> </span> <!></div> <span class="card-time svelte-1u0ngwm"> </span></div> <h2 class="card-title svelte-1u0ngwm"> </h2> <!> <div class="card-footer svelte-1u0ngwm"><span> </span> <!></div></a>'),ua=d('<div class="loading-more svelte-1u0ngwm"><div class="spinner svelte-1u0ngwm"></div></div>'),fa=d('<p class="end-message svelte-1u0ngwm">ëª¨ë“  ë¸Œë¦¬í•‘ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤</p>'),da=d('<div class="cards svelte-1u0ngwm"></div> <div class="sentinel svelte-1u0ngwm"><!></div>',1),ma=d('<div class="page svelte-1u0ngwm"><header class="header svelte-1u0ngwm"><h1 class="title svelte-1u0ngwm">í”¼ë“œ</h1> <p class="subtitle svelte-1u0ngwm">ëª¨ë“  ë¸Œë¦¬í•‘ ì¹´ë“œ</p></header> <!> <!></div>');function Ra(U,B){ue(B,!1);let h=C([]),k=C(!0),T=C(!1),P=C(!1),w=C(null),A=C(!0),L=0;const f=10;let v=C(null),g=C(),E=null;async function M(r=!1){if(!(e(T)||!r&&!e(A))){r?(o(k,!0),o(w,null),L=0,o(h,[])):o(T,!0);try{const t=await Ue({limit:f,offset:L,group:e(v)??void 0});r?o(h,t.items):o(h,[...e(h),...t.items]),L+=t.items.length,o(A,t.items.length===f)}catch(t){console.error(t),t instanceof Ve?o(w,{type:t.type,message:t.message,retryable:t.retryable}):o(w,{type:"UNKNOWN",message:"ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",retryable:!0})}finally{o(k,!1),o(T,!1),o(P,!1)}}}async function V(){o(P,!0),await M(!0)}function W(r){o(v,r.detail),o(A,!0),M(!0)}$e(()=>{const r=je.subscribe(async t=>{t&&(await M(!0),E=new IntersectionObserver(S=>{S[0].isIntersecting&&e(A)&&!e(T)&&!e(k)&&M()},{rootMargin:"100px"}),e(g)&&E.observe(e(g)),r())});return r}),Ke(()=>{E&&E.disconnect()});function _e(r){const t=new Date,S=new Date(r),y=Math.floor((t.getTime()-S.getTime())/1e3/60);return y<60?`${y}ë¶„ ì „`:y<1440?`${Math.floor(y/60)}ì‹œê°„ ì „`:`${Math.floor(y/1440)}ì¼ ì „`}function he(r){return r.headline||r.issueTitle}pe();var j=ma();ze("1u0ngwm",r=>{Pe(()=>{Ye.title="í”¼ë“œ - SHIFT"})});var se=m(i(j),2);ta(se,{get selectedGroup(){return e(v)},$$events:{change:W}});var we=m(se,2);{var be=r=>{var t=sa();re(t,4,()=>Array(5),me,(S,y)=>{Je(S,{type:"card"})}),n(t),s(r,t)},ye=r=>{var t=H(),S=$(t);{var y=R=>{Qe(R,{get errorType(){return e(w).type},get message(){return e(w).message},get retryable(){return e(w).retryable},get loading(){return e(P)},$$events:{retry:V}})},xe=R=>{var ne=H(),Ce=$(ne);{var Te=D=>{var F=oa(),G=m(i(F),2),Y=i(G);{var q=a=>{var u=ve();K(I=>b(u,`'${I??""}' ì¹´í…Œê³ ë¦¬ì— ë¸Œë¦¬í•‘ì´ ì—†ìŠµë‹ˆë‹¤`),[()=>te(e(v))]),s(a,u)},J=a=>{var u=ve("ë¸Œë¦¬í•‘ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤");s(a,u)};_(Y,a=>{e(v)?a(q):a(J,!1)})}n(G);var Q=m(G,2);{var c=a=>{var u=na();de("click",u,()=>{o(v,null),M(!0)}),s(a,u)};_(Q,a=>{e(v)&&a(c)})}n(F),s(D,F)},Ae=D=>{var F=da(),G=$(F);re(G,5,()=>e(h),c=>c.issueId,(c,a)=>{var u=ca(),I=i(u),O=i(I),N=i(O),Le=i(N,!0);n(N);var Ee=m(N,2);{var Me=l=>{qe(l,{get lifecycle(){return e(a).lifecycle},showChange:!0})};_(Ee,l=>{e(a).lifecycle&&l(Me)})}n(O);var oe=m(O,2),Se=i(oe,!0);n(oe),n(I);var Z=m(I,2),Ge=i(Z,!0);n(Z);var le=m(Z,2);{var Ie=l=>{var p=la(),x=i(p,!0);n(p),K(()=>b(x,e(a).signalSummary)),s(l,p)},Oe=l=>{var p=H(),x=$(p);{var z=X=>{var ae=ia(),Fe=i(ae,!0);n(ae),K(()=>b(Fe,e(a).conclusion)),s(X,ae)};_(x,X=>{e(a).conclusion&&X(z)},!0)}s(l,p)};_(le,l=>{e(a).signalSummary?l(Ie):l(Oe,!1)})}var ie=m(le,2),ee=i(ie),ke=i(ee);n(ee);var Re=m(ee,2);{var De=l=>{var p=va(),x=m($(p),2),z=i(x);n(x),K(X=>b(z,`${X??""} ì¡°íšŒ`),[()=>We(e(a).viewCount)]),s(l,p)};_(Re,l=>{e(a).viewCount&&l(De)})}n(ie),n(u),K((l,p,x,z)=>{Xe(u,"href",`${He??""}/cards/${e(a).issueId??""}`),ge(N,`color: var(--g-${l??""})`),b(Le,p),b(Se,x),b(Ge,z),b(ke,`${e(a).articleCount??""}ê°œ ê¸°ì‚¬`)},[()=>e(a).issueGroup.toLowerCase(),()=>te(e(a).issueGroup),()=>_e(e(a).issueLastPublishedAt),()=>he(e(a))]),s(c,u)}),n(G);var Y=m(G,2),q=i(Y);{var J=c=>{var a=ua();s(c,a)},Q=c=>{var a=H(),u=$(a);{var I=O=>{var N=fa();s(O,N)};_(u,O=>{e(A)||O(I)},!0)}s(c,a)};_(q,c=>{e(T)?c(J):c(Q,!1)})}n(Y),Be(Y,c=>o(g,c),()=>e(g)),s(D,F)};_(Ce,D=>{e(h).length===0?D(Te):D(Ae,!1)},!0)}s(R,ne)};_(S,R=>{e(w)?R(y):R(xe,!1)},!0)}s(r,t)};_(we,r=>{e(k)?r(be):r(ye,!1)})}n(j),s(U,j),fe()}export{Ra as component};
